(this["webpackJsonptime-sheet-app"]=this["webpackJsonptime-sheet-app"]||[]).push([[0],{331:function(e,t,a){},603:function(e,t,a){},604:function(e,t,a){},630:function(e,t,a){},631:function(e,t,a){},633:function(e,t,a){},634:function(e,t,a){},635:function(e,t,a){},636:function(e,t,a){},638:function(e,t,a){},639:function(e,t,a){},640:function(e,t,a){},641:function(e,t,a){"use strict";a.r(t);a(362),a(414);var n=a(0),r=a.n(n),s=a(31),i=a.n(s),o=(a(603),a(604),a(19)),c=a(75),l=a(173),d=a(39),u=a(7),p=a.n(u),b=a(12),h=a(174),j=a.n(h),m=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n,r,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:null,e.next=3,t.get(a,Object(o.a)({},n&&{params:n})).then((function(e){return{code:200,data:e.data}})).catch((function(e){return f(e)}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f=function(e){return e.response?{code:400,data:e.response.data}:e.request?{code:500,data:"Internal server error"}:{code:0,data:"Error in sending request"}},v=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n,r,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:null,e.next=3,t.get(a,Object(o.a)({},n&&{params:n})).then((function(e){return{code:200,data:e.data}})).catch((function(e){return f(e)}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n,r,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:null,e.next=3,t.post(a,Object(o.a)({},n)).then((function(e){return{code:200,data:e.data}})).catch((function(e){return f(e)}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),O={getSession:function(){var e=Object(b.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j.a.create({baseURL:"http://localhost/QTIMEWEB2/api",timeout:31e3}),"/Sessions/".concat(t,"/").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},x=a(5),C="Approve Timesheet",S="QTIME Dashboard",y="session",w="USERLEVEL",k="SURNAME",T="OTHRNAMES",N="ID",A="DISPNAME";function E(){var e=Object(n.useState)(function(){var e=localStorage.getItem(y);return e?function(e){var t=JSON.parse(e);return null===t||void 0===t?void 0:t.sessionKey}(e):""}()),t=Object(x.a)(e,2),a=t[0],r=t[1],s=function(e,t){var a={userId:e,sessionKey:t};return JSON.stringify(a)};return{setToken:function(e,t){localStorage.setItem(y,s(e,t)),r(t)},token:a,remove:function(){localStorage.clear(),r("")}}}var L=a(1),D=Object(n.createContext)({});function I(e){var t=function(){var e=E(),t=e.token,a=e.setToken,n=e.remove;return{token:t,signin:function(e,t,n){return O.getSession(t,n).then((function(n){return 200===n.code?(a(null===t||void 0===t?void 0:t.trim(),n.data),e(),"success"):400===n.code?n.data.ExceptionMessage:n.data}))},signout:function(e){n(),e()},changePassword:function(e){}}}();return Object(L.jsx)(D.Provider,{value:t,children:e.children})}var M=function(){return Object(n.useContext)(D)};var P=a(330),R=a(333),F=a(692),_=a(693),H=a(701),W=a(118),B=a(690),V=a(233),Q=a(232),U=a(338),z=a.n(U),J=a(226),G=a(689),K=a(24),q=a.n(K),Y=Object(P.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},actions:{flex:"0 0 auto",display:"flex",alignItems:"center",justifyContent:"flex-end"},"actions-spacing":{"& >:not(:first-child)":{marginLeft:8}}}}));function X(e){var t=Y(),a=Object(d.g)(),r=Object(d.h)(),s=M(),i=Object(n.useState)(""),o=Object(x.a)(i,2),c=o[0],l=o[1],u=Object(n.useState)(""),h=Object(x.a)(u,2),j=h[0],m=h[1],f=e.onCancel,v=(r.state||{from:{pathname:"/"}}).from,g=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.signin((function(){}),c,j);case 2:"success"==(t=e.sent)?a.replace(v):t&&q()("QTIME",t,"error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(L.jsxs)(G.a,{component:"main",maxWidth:"xs",children:[Object(L.jsx)(B.a,{}),Object(L.jsxs)("div",{className:t.paper,children:[Object(L.jsx)(H.a,{className:t.avatar,children:Object(L.jsx)(z.a,{})}),Object(L.jsx)(J.a,{component:"h1",variant:"h5",children:"Login to QTIME"}),Object(L.jsxs)("form",{className:t.form,onSubmit:function(e){e.preventDefault(),g()},children:[Object(L.jsx)(Q.a,{children:"UserId"}),Object(L.jsx)(V.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"userId",name:"userId",autoComplete:"userId",autoFocus:!0,value:c,onChange:function(e){return l(e.target.value)}}),Object(L.jsx)(Q.a,{children:"Password"}),Object(L.jsx)(V.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",type:"password",id:"password",autoComplete:"current-password",value:j,onChange:function(e){return m(e.target.value)}}),Object(L.jsxs)("div",{className:"".concat(t.actions," ").concat(t["actions-spacing"]),children:[Object(L.jsx)(W.a,{type:"submit",variant:"contained",color:"primary",className:t.submit,children:"Login"}),Object(L.jsx)(W.a,{onClick:f,variant:"contained",color:"primary",className:t.submit,children:"Cancel"})]})]})]})]})}a(331);var Z=Object(P.a)((function(e){return Object(R.a)({root:{flexGrow:1},input:{},rejectSelect:{height:30,padding:0},rejectInput:{borderRadius:0},actionText:{flex:"0 0 auto",display:"flex",padding:8,"align-items":"center","justify-content":"flex-start"},headerTitle:{backgroundColor:"#606060",color:"#ffff"}})}));function $(e){Z();var t=e.open,a=e.onClose;return Object(L.jsx)("div",{className:"content",children:Object(L.jsx)(F.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,fullWidth:!0,"aria-labelledby":"form-dialog-title",open:t,onClose:a,children:Object(L.jsx)(_.a,{dividers:!0,children:Object(L.jsx)(X,{onCancel:a})})})})}var ee=a(224);function te(){var e=Object(n.useState)(!1),t=Object(x.a)(e,2),a=t[0],r=t[1],s=function(){r(!a)};return Object(L.jsx)("div",{className:"content",children:Object(L.jsxs)("div",{children:[Object(L.jsxs)("div",{children:[Object(L.jsxs)("div",{className:"landingPage_header",children:[Object(L.jsx)("div",{className:"landingPage_header_1"}),Object(L.jsx)("div",{className:"landingPage_header_2"})]}),Object(L.jsxs)("div",{className:"landingPage_body",children:[Object(L.jsxs)("div",{className:"landingPage_body_title",children:[Object(L.jsx)("h3",{children:"Welcome to Chiyoda's QTIME Timesheet Management System!!!"}),Object(L.jsx)("h5",{children:"Engineering and Construction man-hour control on Projects"})]}),Object(L.jsxs)("div",{className:"landingPage_body_content_1",children:[Object(L.jsxs)("div",{className:"landingPage_body_content_1_left",children:[Object(L.jsx)("div",{className:"bold font20",children:"Qtime Administrator"}),Object(L.jsx)("div",{className:"bold",children:"Project Control Department"}),Object(L.jsxs)("div",{children:[Object(L.jsx)("label",{className:"bold",children:"Email :"}),Object(L.jsx)("span",{className:"hyperlink",children:"QTIME@ykh.chiyoda.co.jp"})]}),Object(L.jsx)("div",{className:"font12",children:"For any question, comments or error report"})]}),Object(L.jsx)("div",{className:"landingPage_body_content_1_right",children:Object(L.jsxs)("div",{className:"loginContainer",children:[Object(L.jsx)("div",{className:"bold font20",style:{color:"orange"},children:"QUICK links"}),Object(L.jsxs)("div",{className:"loginCon bold font20",style:{color:"blue",cursor:"pointer"},onClick:s,children:[Object(L.jsx)("button",{className:"login_btn",children:Object(L.jsx)("i",{className:"login"})}),Object(L.jsx)("span",{children:"Login"})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)("label",{className:"bold",children:"FAQ - "})," ",Object(L.jsx)("label",{className:"hyperlink bold",children:"<click here!!!>"})]})]})}),Object(L.jsx)("div",{className:"emptyContainer"})]}),Object(L.jsxs)("div",{className:"landingPage_body_content_2",children:[Object(L.jsx)("div",{className:"landingPage_body_content_2_left",children:Object(L.jsxs)(ee.a,{bordered:!0,hover:!0,children:[Object(L.jsx)("thead",{children:Object(L.jsx)("tr",{children:Object(L.jsx)("th",{className:"greyBackground bold italic white leftText",colSpan:8,children:"Timesheet Entry Cycle"})})}),Object(L.jsxs)("tbody",{children:[Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{className:"bold font14 leftText",children:"Timesheet Entry"}),Object(L.jsx)("td",{className:"bold font14 leftText",children:"Daily"})]}),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{className:"bold font14 leftText",children:"Timesheet Cutoff"}),Object(L.jsx)("td",{className:"bold font14 leftText",children:"every Sunday"})]}),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{className:"bold font14 leftText",children:"Timesheet Approval"}),Object(L.jsx)("td",{className:"bold font14 leftText",children:"every Monday"})]})]})]})}),Object(L.jsx)("div",{className:"landingPage_body_content_2_right",children:Object(L.jsxs)(ee.a,{bordered:!0,hover:!0,children:[Object(L.jsx)("thead",{children:Object(L.jsx)("tr",{children:Object(L.jsx)("th",{className:"greyBackground bold italic white leftText",colSpan:8,children:"For All Users"})})}),Object(L.jsxs)("tbody",{children:[Object(L.jsx)("tr",{children:Object(L.jsxs)("td",{className:"leftText font14",children:[Object(L.jsx)("span",{className:"hyperlink",children:"Click Here"})," for Project's information ",Object(L.jsx)("br",{}),"(PAF Entry form, User&Approval list etc)"]})}),Object(L.jsx)("tr",{children:Object(L.jsxs)("td",{className:"leftText font14",children:[Object(L.jsxs)("label",{className:"bold",children:["Version Up ",Object(L.jsx)("br",{}),'"Accessing QTIME from Internet',Object(L.jsx)("br",{}),'"Entering & Approving Timesheets with 0MH"']}),Object(L.jsxs)("label",{children:["See Updated User Manual"," ",Object(L.jsx)("label",{className:"hyperlink",children:"<QTIME Web Manual>"})]})]})})]})]})}),Object(L.jsx)("div",{className:"emptyContainer"})]}),Object(L.jsxs)("div",{className:"landingPage_body_footer",children:[Object(L.jsx)("label",{children:Object(L.jsx)("button",{className:"login_btn",children:Object(L.jsx)("i",{className:"login"})})}),Object(L.jsxs)("label",{children:["Looking for",Object(L.jsx)("label",{className:"orange",children:"\xa0 PAF ENTRY FORM, Overtime Approval Requests, User&Approver Lists"}),"\xa0etc?"]})]}),Object(L.jsx)("div",{className:"btn-btnContainer",children:Object(L.jsx)(W.a,{variant:"contained",className:"form-input",size:"large",children:"Click Here"})})]})]}),Object(L.jsx)($,{open:a,onClose:s})]})})}var ae=a(58),ne=a(59),re=a(66),se=a(65),ie=a(28),oe=a(185),ce=a(697),le=a(650),de=a(348),ue=a(699);function pe(e){var t=e.id,a=e.rows,n=e.value,r=e.placeholder,s=e.label,i=void 0===s?"":s,l=e.events,d=void 0===l?{}:l,u=e.classes,p=void 0===u?{}:u,b=e.type,h=e.fullWidth,j=void 0===h||h,m=e.isDisabled,f=void 0!==m&&m,v=d.onChange,g=Object(c.a)(d,["onChange"]),O=(p.parentClass,p.useStyles),x=(p.errorClass,p.inputProps),C=Object(o.a)(Object(o.a)({},g),{},{label:i,id:t,value:n,placeholder:r,className:O,onChange:function(e){v(e.target.value)}});return"textarea"===b&&(delete C.type,C.multiline=!0,C.rows=a||4),Object(L.jsx)("div",{children:Object(L.jsx)(V.a,Object(o.a)({variant:"outlined",fullWidth:j,InputProps:{classes:x},disabled:f},C))})}var be=a(696),he=a(695),je=a(694),me=a(8),fe=a(105),ve=a(149),ge=a(231),Oe=a(702),xe=Object(me.a)((function(e){return Object(R.a)({root:{borderRadius:0},input:{height:e.spacing(4),paddingLeft:e.spacing(1),paddingRight:e.spacing(3),paddingBottom:e.spacing(0),paddingTop:e.spacing(0),display:"flex","justify-content":"center","flex-direction":"column",backgroundColor:"#FFFF","border-radius":e.spacing(0),flexWrap:"wrap",alignContent:"flex-start"}})}))(Oe.a),Ce=Object(P.a)((function(e){return Object(R.a)({formControl:{padding:e.spacing(1),minWidth:120,"-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box",width:"100%","border-radius":e.spacing(0),borderRadius:0},selectEmpty:{marginTop:e.spacing(2)}})}));function Se(e){var t=Ce(),a=e.elements,n=e.selectedVal,r=e.isDisabled,s=e.onSelect,i=e.label,o=void 0===i?"":i,c=e.styles,l=void 0===c?{}:c,d=e.fullWidth,u=void 0===d||d,p=e.displayEmpty,b=void 0===p||p,h=e.defaultText,j=void 0===h?"":h,m=l.formControlClass,f=l.inputClass;return Object(L.jsx)(ve.a,{size:"small",className:m||t.formControl,fullWidth:u,children:Object(L.jsxs)(ge.a,{labelId:"simple-select-outlined-label",disabled:r||!1,id:"simple-select-outlined",value:n,onChange:function(e){console.log(e.target.value),s(e.target.value)},className:f,input:Object(L.jsx)(xe,{}),label:o,fullWidth:u,displayEmpty:b,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},children:[Object(L.jsx)(fe.a,{disabled:!0,value:"",children:j||Object(L.jsx)("em",{children:"None"})}),a&&a.map((function(e){return Object(L.jsx)(fe.a,{value:e.key,children:e.value})}))]})})}var ye=Object(P.a)((function(e){return Object(R.a)({root:{flexGrow:1},input:{},rejectSelect:{marginTop:5},rejectInput:{},actionText:{flex:"0 0 auto",display:"flex",padding:8,"align-items":"center","justify-content":"flex-start"},primaryRow:{backgroundColor:"#80d8ff"},secondryRow:{backgroundColor:"#f5f5f5"}})})),we=Object(P.a)((function(e){return Object(R.a)({root:{height:32,borderRadius:0,marginTop:5}})})),ke=Object(P.a)((function(e){return Object(R.a)({root:{borderRadius:0,marginTop:16}})}));function Te(e){var t=ye(),a=we(),r=ke(),s=Object(n.useState)(e.employeeComment),i=Object(x.a)(s,2),o=i[0],c=i[1],l=Object(n.useState)(""),d=Object(x.a)(l,2),u=d[0],p=d[1],b=Object(n.useState)(""),h=Object(x.a)(b,2),j=h[0],m=h[1],f=Object(n.useState)({key:"0",value:""}),v=Object(x.a)(f,2),g=v[0],O=v[1],C=Object(n.useState)({key:"0",value:""}),S=Object(x.a)(C,2),y=S[0],w=S[1],k=Object(n.useState)(e.rejectedCodes),T=Object(x.a)(k,2),N=T[0],A=T[1],E=Object(n.useState)(e.selectedReason),D=Object(x.a)(E,2),I=(D[0],D[1]),M=Object(n.useState)(!1),P=Object(x.a)(M,2),R=P[0],H=P[1],B=Object(n.useState)(!0),V=Object(x.a)(B,2),U=V[0],z=V[1],G=Object(n.useState)(!0),K=Object(x.a)(G,2),q=K[0],Y=K[1],X=Object(n.useState)(!0),Z=Object(x.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)(!0),ae=Object(x.a)(te,2),ne=ae[0],re=ae[1];Object(n.useEffect)((function(){c(e.employeeComment);var t=e.rejectedCodes.map((function(e){return{key:e.key,value:e.key}}));switch(A(t),se(e.selectedObject),e.isFrom){case"TimeSheet":H(!1),z(!0),Y(!0),ee(!0),re(!0);break;case"ApproveAttachment":H(!0),z(!0),Y(!0),ee(!0),re(!0),e.isApprover1&&z(!1),e.isApprover2&&re(!1);break;case"ApproveReject":switch(H(!0),z(!0),Y(!0),ee(!0),re(!0),e.isCheckBoxChecked){case"approver1":z(!1);break;case"approver2":re(!1);break;case"rejected":e.isApprover1&&Y(!1),e.isApprover2&&ee(!1)}}}),[e]);var se=function(t){if(t){c(t.employeeComment),p(t.approver1Comment),m(t.approver2Comment);var a=e.rejectedCodes.filter((function(e){return e.key===t.reasonCode}));a.length>0&&("Approver1"===t.approver?O({key:a[0].key,value:a[0].value}):w({key:a[0].key,value:a[0].value})),I(t.reasonCode)}},ie=function(){c(""),p(""),m(""),O({key:"0",value:""}),w({key:"0",value:""}),A([]),I(""),H(!1),z(!0),Y(!0),ee(!0),re(!0)},oe=function(t){var a=e.rejectedCodes.filter((function(e){return e.key===t}));if(a.length>0){var n={key:a[0].key,value:a[0].value};O(n)}},ce=function(t){var a=e.rejectedCodes.filter((function(e){return e.key===t}));if(a.length>0){var n={key:a[0].key,value:a[0].value};w(n)}};return Object(L.jsx)("div",{children:Object(L.jsxs)(F.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,fullWidth:!0,"aria-labelledby":"form-dialog-title",open:e.open,onClose:e.onClose,children:[Object(L.jsx)(je.a,{id:"form-dialog-title",children:"Timesheet comments"}),Object(L.jsx)(_.a,{dividers:!0,children:Object(L.jsx)("div",{className:t.root,children:Object(L.jsxs)(he.a,{container:!0,direction:"column",spacing:2,children:[Object(L.jsx)(he.a,{item:!0,xs:12,children:Object(L.jsxs)("div",{children:[Object(L.jsx)(Q.a,{children:"Employee comments"}),Object(L.jsx)(pe,{rows:4,value:o,events:{onChange:function(e){c(e)}},classes:{inputProps:r},type:"textarea",isDisabled:R})]})}),Object(L.jsx)(he.a,{item:!0,xs:12,children:Object(L.jsxs)("div",{children:[Object(L.jsx)(Q.a,{children:"Approver 1 comments"}),Object(L.jsx)(pe,{rows:4,value:u,events:{onChange:function(e){p(e)}},classes:{inputProps:r},type:"textarea",isDisabled:U}),Object(L.jsxs)(he.a,{container:!0,children:[Object(L.jsx)(he.a,{item:!0,xs:4,children:Object(L.jsx)(Se,{elements:N,onSelect:oe,selectedVal:g.key,isDisabled:q,label:"Rejected reason",styles:{formControlClass:t.rejectSelect,inputClass:t.input}})}),Object(L.jsx)(he.a,{item:!0,xs:8,children:Object(L.jsx)(pe,{value:g.value,events:{onChange:function(e){return console.log(e)}},classes:{useStyles:t.rejectInput,inputProps:a},isDisabled:!0})})]})]})}),Object(L.jsx)(he.a,{item:!0,xs:12,children:Object(L.jsxs)("div",{children:[Object(L.jsx)(Q.a,{children:"Approver 2 comments"}),Object(L.jsx)(pe,{rows:4,value:j,events:{onChange:function(e){m(e)}},classes:{inputProps:r},type:"textarea",isDisabled:ne}),Object(L.jsxs)(he.a,{container:!0,children:[Object(L.jsx)(he.a,{item:!0,xs:4,children:Object(L.jsx)(Se,{elements:N,onSelect:ce,selectedVal:y.key,isDisabled:$,label:"Rejected reason",styles:{formControlClass:t.rejectSelect,inputClass:t.input}})}),Object(L.jsx)(he.a,{item:!0,xs:8,children:Object(L.jsx)(pe,{value:y.value,events:{onChange:function(e){return console.log(e)}},classes:{useStyles:t.rejectInput,inputProps:a},isDisabled:!0})})]})]})})]})})}),Object(L.jsxs)(be.a,{children:[Object(L.jsx)(J.a,{className:t.actionText,children:"* - All comments must be in English"}),Object(L.jsx)(W.a,{onClick:function(){var t={approver1Comment:u,reasonCode:g.value.length>0?"0"==g.key?"":g.key:"0"==y.key?"":y.key,employeeComment:o,selectedId:void 0==e.selectedId?"":e.selectedId,approver2Comment:j,approver:e.isApprover1?"Approver1":e.isApprover2?"Approver2":void 0};e.onOkPressed(t),ie(),e.onClose()},color:"primary",children:"OK"}),Object(L.jsx)(W.a,{onClick:e.onClose,color:"primary",children:"Cancel"})]})]})})}a(630);var Ne=a(339),Ae=Object(me.a)((function(e){return Object(R.a)({root:{"& .MuiOutlinedInput-root":{"border-radius":e.spacing(0)}},input:{height:e.spacing(4),paddingLeft:e.spacing(1),paddingRight:e.spacing(3),paddingBottom:e.spacing(0),paddingTop:e.spacing(0),display:"flex","justify-content":"center","flex-direction":"column",backgroundColor:"#FFFF","border-radius":e.spacing(0),flexWrap:"wrap",alignContent:"flex-start"},WithStyles:{paddingTop:"5px",height:"26px"}})}))(Oe.a),Ee=Object(P.a)((function(e){return Object(R.a)({formControl:{padding:e.spacing(1),minWidth:120,"-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box",width:"100%","border-radius":e.spacing(0),borderRadius:0},selectEmpty:{marginTop:e.spacing(2)}})}));function Le(e){var t=Ee(),a=Object(n.useState)(e.selectedVal),r=Object(x.a)(a,2),s=r[0],i=r[1];Object(n.useEffect)((function(){o()}),[e]);var o=function(){e.selectedVal&&e.selectedVal.length>0&&i(e.selectedVal)};return Object(L.jsx)(ve.a,{size:"small",className:t.formControl,children:Object(L.jsx)(Ne.a,{id:"demo-simple-select-outlined",value:s,onChange:function(t){if(i(t.target.value),e.onChangeEvt)return e.onChangeEvt(t)},className:"qTimeDropdown",input:Object(L.jsx)(Ae,{}),inputProps:{"aria-label":"age"},children:e.elements&&e.elements.map((function(e){return Object(L.jsx)("option",{value:e.key+"-"+e.value,children:e.value},e.key)}))})})}var De=a(117),Ie=(a(631),De.a.rowHeight),Me=De.a.headerHeight;function Pe(e){return Object(L.jsx)("div",{className:"dataTable",style:{height:Me+4*Ie,marginLeft:10,marginRight:10},children:Object(L.jsx)(De.b,{apiRef:e.apiRef,rows:e.rowData,columns:e.columns,checkboxSelection:e.checkboxSelection,hideFooter:!0,density:"compact",editRowsModel:e.editRowModel,disableColumnReorder:!0,onEditCellChangeCommitted:e.editCellChangeCommitedFn,onRowSelected:e.rowSelectFn,onSelectionModelChange:e.selectionModelChangeFn,loading:e.isDataTableLoading,isRowSelectable:function(t){return!e.isRowSelectionfn||e.isRowSelectionfn(t)},isCellEditable:function(t){return e.isDataTableEditablefn?e.isDataTableEditablefn(t):1==e.isDataTableEditable}})})}var Re=a(186),Fe=(a(633),function(){var e=M(),t=e.token,a=e.signout,n=function(){var e=j.a.create({baseURL:"http://localhost/QTIMEWEB2/api",timeout:31e3});return e.interceptors.request.use((function(e){return t?e:(a((function(){})),Promise.reject("Invalid Token"))})),e};return{getEmployeeList:function(){var e=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n(),"/employees/".concat(t,"/").concat(a,"/list"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getEndingWeek:function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n(),"/Calendars/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getProjectCode:function(){var e=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n(),"/Codes/".concat(t,"/").concat(a,"/Project"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getJobCode:function(){var e=Object(b.a)(p.a.mark((function e(a,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n(),"/Codes/".concat(t,"/").concat(r,"/").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),getProjectData:function(){var e=Object(b.a)(p.a.mark((function e(a,r,s){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n(),"/Codes/".concat(t,"/").concat(r,"/").concat(s,"/").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),getLocation:function(){var e=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n(),"/Codes/".concat(t,"/").concat(a,"/location"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getTimeSheetData:function(){var e=Object(b.a)(p.a.mark((function e(a,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n(),"/Timesheets/".concat(t,"/").concat(a,"/").concat(r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),copyTimeSheet:function(){var e=Object(b.a)(p.a.mark((function e(a,r,s){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n(),"/Timesheets/".concat(t,"/").concat(a,"/").concat(r,"/").concat(s," "));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),qTimeSaveFn:function(){var e=Object(b.a)(p.a.mark((function e(a,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n(),"/Timesheets/".concat(t),r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),qApproveSaveFn:function(){var e=Object(b.a)(p.a.mark((function e(a,r,s){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n(),"/Timesheets/".concat(t,"/").concat(a,"/").concat(r),s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),getApprovalEmployeeList:function(){var e=Object(b.a)(p.a.mark((function e(a,r,s){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n(),"/Timesheets/".concat(t,"/").concat(a,"/").concat(r,"/").concat(s,"/Approval"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),getDashboardStats:function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n(),"/Timesheets/".concat(t,"/Statistics"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getLoggedInUserDetails:function(){var e=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n(),"/Employees/".concat(t,"/").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),changePassword:function(){var e=Object(b.a)(p.a.mark((function e(a,r,s,i){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n(),"/Employees/".concat(t,"/").concat(i,"/").concat(a,"/").concat(r,"/").concat(s));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),logOut:function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n(),"/Sessions/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}),_e=function(e){return function(t){var a=Fe();return Object(L.jsx)(e,Object(o.a)({useFetch:a},t))}},He=function(e){Object(re.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(ae.a)(this,a),(n=t.call(this,e)).setCurrentDate=function(e){if(e&&e.length>0){var t=n.findCurrentWeekDate(e);t&&t.length>0&&n.state.periods.length>0&&n.setState({currentWeek:t[0].WeekNo+"-"+t[0].PayDate.split("T")[0]})}},n.findCurrentWeekDate=function(e){return e.filter((function(e){return 1==e.CurPayDate}))},n.retrievePayDate=Object(b.a)(p.a.mark((function e(){var t,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.useFetch.getEndingWeek();case 2:if(200!==(t=e.sent).code){e.next=8;break}return a=t.data,r=a.map((function(e){return{key:e.WeekNo,value:e.PayDate.split("T")[0]}})),n.setState({periods:r}),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)}))),n.gettsTypeVal=function(){return(n.state.isStandard&&n.state.isNonWorking?4:n.state.isNonWorking?2:n.state.isStandard?1:3).toString()},n.retrieveEmployeeData=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,r,s,i,o,c,l,d,u,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(a=n.state.currentWeek).split("-")[0],r=n.gettsTypeVal(),s=n.state.selectedValue,void 0!=t&&(s=t),!((i=n.state.periods.filter((function(e){return a==e.key})))&&i.length>0)){e.next=12;break}return e.next=9,n.props.useFetch.getApprovalEmployeeList(i[0].value,r,s);case 9:o=e.sent,c=o.data,200===o.code?(c.fTmpEmployeeForApproval&&(l=c.fTmpEmployeeForApproval.map((function(e,t){return{id:e.Id,supvNo:e.SupvNo,projMgr:e.ProjMgr,proxySup:e.ProxySup,prxyPrjMgr:e.PrxyPrjMgr,proxyAct:e.ProxyAct,calc_OT:e.Calc_OT,pAF_No:e.PAF_No,tsType:e.TsType,employeeName:e.EmployeeName,status:e.Status,statusLvl:e.StatusLvl,prevStatus:e.PrevStatus,prevStatusLvl:e.PrevStatusLvl,submitted:e.Submitted,apprvLvl1:e.ApprvLvl1,apprvLvl2:e.ApprvLvl2,rejected:e.Rejected,prevAppLvl1:e.PrevAppLvl1,prevAppLvl2:e.PrevAppLvl2,prevReject:e.PrevReject,isApprvLvl1:e.IsApprvLvl1,isApprvLvl2:e.IsApprvLvl2,isRejected:e.IsRejected,reasonCode:e.ReasonCode,totalHrs:e.TotalHrs,empNotes:e.EmpNotes,supvNotes:e.SupvNotes,pMNotes:e.PMNotes,proxyActSupv:e.ProxyActSupv,proxyActPrjMgr:e.ProxyActPrjMgr,isCmntExts:e.IsCmntExts,int_Tsh:e.Int_Tsh,lvl1ApprvName:e.Lvl1ApprvName,lvl2ApprvName:e.Lvl2ApprvName,selected:e.Selected,dispTotalHrs:e.DispTotalHrs}})),d=0,l.forEach((function(e){e.totalHrs&&(d+=e.totalHrs)})),u="0.0",u=d.toString().includes(".")?d.toString():d.toString()+".0",n.setState({approvalSheetRecords:l,totalHours:u,noOfEmployee:l.length.toString(),isDataTableLoading:!1})),c.fRjctReson&&c.fRjctReson.length>0&&(b=c.fRjctReson.map((function(e){return{key:e.ReasonCode,value:e.Title}})),n.setState({rejectedReasons:b,fRjctReson:c.fRjctReson}))):(q()("QTIME",o.data.ExceptionMessage,"error"),n.setState({isDataTableLoading:!1}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleCheckBoxChange=function(e){var t=n.state.isStandard,a=n.state.isNonWorking,r=n.state.isMissing,s=n.state.isApproveAll,i=n.state.isStandardDisabled,o=n.state.isNonWorkingDisabled,c=n.state.isMissingDisabled;if(e.target.name){switch(e.target.name){case"standard":t=e.target.checked,c=!!e.target.checked||!!a;break;case"nonWorking":a=e.target.checked,c=!!e.target.checked||!!t;break;case"missing":r=e.target.checked,e.target.checked?(i=!0,o=!0):(i=!1,o=!1);break;case"approveall":s=e.target.checked}n.setState({isStandard:t,isMissing:r,isNonWorking:a,isApproveAll:s,isStandardDisabled:i,isMissingDisabled:c,isNonWorkingDisabled:o})}},n.handleRadioChange=function(e){e.target.value&&(n.setState({selectedValue:parseInt(e.target.value)}),n.updateApprovalGrid(parseInt(e.target.value)))},n.updateApprovalGrid=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.retrieveEmployeeData(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onWeekChange=function(e){n.setState({currentWeek:e.target.value})},n.handleCheckBoxClick=function(e){if(e){var t=e.target.id.split("_")[1],a=e.target.id.split("_")[0],r="approver1",s=n.state.approvalSheetRecords;if(s.length>0){var i=s.findIndex((function(e){return e.id==t}));if(i>-1){switch(a){case"apprvLvl1":r="approver1",s[i].apprvLvl1=e.target.checked?1:0,s[i].apprvLvl1==s[i].prevAppLvl1?(s[i].status=s[i].prevStatus,s[i].statusLvl=s[i].prevStatusLvl):(s[i].status="Approved Lvl1",s[i].statusLvl=5,s[i].rejected=0,s[i].reasonCode=""),0==e.target.checked&&(s[i].supvNotes="");break;case"apprvLvl2":r="approver2",s[i].apprvLvl2=e.target.checked?1:0,s[i].apprvLvl2==s[i].prevAppLvl2?(s[i].status=s[i].prevStatus,s[i].statusLvl=s[i].prevStatusLvl):(s[i].status="Approved Lvl2",s[i].statusLvl=6,s[i].rejected=0,s[i].reasonCode=""),0==e.target.checked&&(s[i].pMNotes="");break;case"rejected":0==e.target.checked&&(s[i].reasonCode=""),r="rejected",s[i].rejected=e.target.checked?1:0,s[i].rejected==s[i].prevReject?(s[i].status=s[i].prevStatus,s[i].statusLvl=s[i].prevStatusLvl):(s[i].status="Rejected",s[i].statusLvl=2,s[i].isApprvLvl1&&(s[i].apprvLvl1=0,s[i].supvNotes=""),s[i].isApprvLvl2&&(s[i].apprvLvl2=0,s[i].pMNotes=""))}if(n.setState({selectedId:t,approvalSheetRecords:Object(ie.a)(s),isApprover1Login:1==s[i].isApprvLvl1,isApprover2Login:1==s[i].isApprvLvl2,selectedCheckbox:r}),e.target.checked){var o={employeeComment:s[i].empNotes||"",approver1Comment:s[i].supvNotes||"",approver2Comment:s[i].pMNotes||"",reasonCode:s[i].reasonCode||"",selectedId:"",approver:void 0};n.setState({commentScreenOpenedFrom:"ApproveReject",commentObject:o}),n.changeCommentScreenState()}}}}},n.handleCommentOkClick=function(e){n.changeCommentScreenState();var t=n.state.approvalSheetRecords,a=t.findIndex((function(t){return t.id==e.selectedId}));a>-1&&(t[a].supvNotes=e.approver1Comment,t[a].pMNotes=e.approver2Comment,t[a].reasonCode=(e.approver,e.reasonCode),n.setState({approvalSheetRecords:Object(ie.a)(t)}))},n.handleCommentClick=function(e){var t={employeeComment:"",approver1Comment:"",approver2Comment:"",reasonCode:"",selectedId:"",approver:void 0},a=n.state.approvalSheetRecords;if(a.length>0){var r=a.findIndex((function(t){return t.id==e}));r>-1&&(t={employeeComment:a[r].empNotes||"",approver1Comment:a[r].supvNotes||"",approver2Comment:a[r].pMNotes||"",reasonCode:a[r].reasonCode||"",selectedId:"",approver:1==a[r].isApprvLvl1?"Approver1":"Approver2"})}n.setState({commentObject:t,selectedId:e,commentScreenOpenedFrom:"ApproveAttachment"}),n.changeCommentScreenState()},n.handleGetEmployee=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isDataTableLoading:!0}),e.next=3,n.retrieveEmployeeData(void 0);case 3:case"end":return e.stop()}}),e)}))),n.handleSave=function(){n.saveData()},n.updateSaveObject=function(e){var t=n.state.selectedRowIndex,a=e.fTmpEmployeeForApproval;if(n.state.isMissing&&t.length>0){for(var r=function(e){var n=a.findIndex((function(a){return a.id==t[e]}));n>-1&&(a[n].selected=1)},s=0;s<t.length;s++)r(s);e.fTmpEmployeeForApproval=a}return e},n.saveData=Object(b.a)(p.a.mark((function e(){var t,a,r,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t={fRjctReson:n.state.fRjctReson,fTmpEmployeeForApproval:n.state.approvalSheetRecords})){e.next=11;break}if(t=n.updateSaveObject(t),a=(a=n.state.currentWeek).split("-")[0],!((r=n.state.periods.filter((function(e){return a==e.key})))&&r.length>0)){e.next=11;break}return e.next=9,n.props.useFetch.qApproveSaveFn(r[0].value,n.gettsTypeVal(),t);case 9:200===(s=e.sent).code&&((i=s.data).response?i.response.data.ExceptionMessage&&q()("QTIME",i.response.data.ExceptionMessage,"error"):i.includes("ERROR")?q()("QTIME",i.split("ERROR -")[1],"error"):q()("QTIME","Timesheet has been approved successfully","success").then((function(e){n.updateApprovalGrid(n.state.selectedValue)})));case 11:case"end":return e.stop()}}),e)}))),n.handleCommentClose=function(){n.changeCommentScreenState()},n.setSeletedIndex=function(e){n.setState({selectedRowIndex:e.selectionModel})},n.changeCommentScreenState=function(){var e=n.state.openCommentDialog;n.setState({openCommentDialog:!e})},n.onRowSelected=function(e){n.setState({approverlvl1:e.data.lvl1ApprvName,approverlvl2:e.data.lvl2ApprvName})},n.isRowSelectable=function(e){return n.setState({approverlvl1:e.row.lvl1ApprvName,approverlvl2:e.row.lvl2ApprvName}),!!n.state.isMissing},n.handleEditCellChangeCommitted=function(e,t){},n.state={periods:[],currentWeek:"0",rejectedReasons:[],approvalSheetRecords:[],approverlvl1:"",approverlvl2:"",noOfEmployee:"",totalHours:"",openCommentDialog:!1,employeeComment:"",isStandard:!0,isNonWorking:!1,isMissing:!1,isApproveAll:!1,isStandardDisabled:!1,isNonWorkingDisabled:!1,isMissingDisabled:!0,isApproveAllDisabled:!1,selectedValue:0,commentScreenOpenedFrom:"ApproveAttachment",fRjctReson:[],isApprover2Login:!1,isApprover1Login:!1,selectedId:"",isDataTableLoading:!1,isDataTableEditable:!0,selectedCheckbox:"approver1",commentObject:{employeeComment:"",approver1Comment:"",approver2Comment:"",reasonCode:"",selectedId:"",approver:void 0},selectedRowIndex:[]},window.ApprovalTimeSheetClassInstance=Object(oe.a)(n),n}return Object(ne.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.retrievePayDate();case 2:return t=e.sent,e.next=5,this.setCurrentDate(t);case 5:e.sent,this.setState({totalHours:"0"});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(L.jsxs)("div",{className:"approvalTimeSheetContent",children:[Object(L.jsx)(Te,{open:this.state.openCommentDialog,onClose:this.handleCommentClose,onOkPressed:this.handleCommentOkClick,employeeComment:this.state.employeeComment,rejectedCodes:this.state.rejectedReasons,isFrom:this.state.commentScreenOpenedFrom,isApprover1:this.state.isApprover1Login,isApprover2:this.state.isApprover2Login,selectedId:this.state.selectedId,isCheckBoxChecked:this.state.selectedCheckbox,selectedObject:this.state.commentObject}),Object(L.jsxs)("div",{className:"timeSheetTypeBox",children:[Object(L.jsxs)("div",{className:"week",children:[Object(L.jsx)(J.a,{className:"dropdownTitle",gutterBottom:!0,children:"Period Ending"}),Object(L.jsx)(Le,{selectedVal:this.state.currentWeek.toString(),elements:this.state.periods,onChangeEvt:this.onWeekChange})]}),Object(L.jsx)("div",{className:"timeSheetType"}),Object(L.jsxs)("div",{className:"btnContainer",children:[Object(L.jsx)("div",{className:"btn-getEmployee",children:Object(L.jsx)(W.a,{variant:"outlined",className:"margin",onClick:this.handleGetEmployee,children:"Get Employee"})}),Object(L.jsx)("button",{className:"btn-save",children:Object(L.jsx)("i",{className:"btnSave",onClick:this.handleSave})}),Object(L.jsx)("button",{className:"btn-Close",children:Object(L.jsx)("i",{className:"btnClose",onClick:this.props.onCloseClicked})})]})]}),Object(L.jsx)("div",{className:"timeSheetType timeSheetType_2",children:Object(L.jsxs)(ce.a,{row:!0,children:[Object(L.jsx)("label",{className:" MuiFormControlLabel-root label",children:"Timesheet Type"}),Object(L.jsx)(le.a,{control:Object(L.jsx)(de.a,{disabled:this.state.isStandardDisabled,checked:this.state.isStandard,onChange:this.handleCheckBoxChange,name:"standard",color:"primary"}),label:"Standard"}),Object(L.jsx)(le.a,{control:Object(L.jsx)(de.a,{disabled:this.state.isNonWorkingDisabled,checked:this.state.isNonWorking,onChange:this.handleCheckBoxChange,name:"nonWorking",color:"primary"}),label:"Non-Working"}),Object(L.jsx)(le.a,{control:Object(L.jsx)(de.a,{checked:this.state.isMissing,disabled:this.state.isMissingDisabled,onChange:this.handleCheckBoxChange,name:"missing",color:"primary"}),label:"Missing"})]})}),Object(L.jsxs)("div",{className:"approvalDatTable",children:[Object(L.jsxs)("div",{className:"radioGroup",children:[Object(L.jsx)(le.a,{value:5,control:Object(L.jsx)(ue.a,{checked:5==this.state.selectedValue,onChange:this.handleRadioChange,value:5,color:"default",name:"radio-button-demo",inputProps:{"aria-label":"D"}}),label:"Approved Lvl1"}),Object(L.jsx)(le.a,{value:6,control:Object(L.jsx)(ue.a,{checked:6==this.state.selectedValue,onChange:this.handleRadioChange,value:6,color:"default",name:"radio-button-demo",inputProps:{"aria-label":"D"}}),label:"Approved Lvl2"}),Object(L.jsx)(le.a,{value:4,control:Object(L.jsx)(ue.a,{checked:4==this.state.selectedValue,onChange:this.handleRadioChange,value:4,color:"default",name:"radio-button-demo",inputProps:{"aria-label":"D"}}),label:"Awaiting Approvel"}),Object(L.jsx)(le.a,{value:2,control:Object(L.jsx)(ue.a,{checked:2==this.state.selectedValue,onChange:this.handleRadioChange,value:2,color:"default",name:"radio-button-demo",inputProps:{"aria-label":"D"}}),label:"Rejected"}),Object(L.jsx)(le.a,{value:0,control:Object(L.jsx)(ue.a,{checked:0==this.state.selectedValue,onChange:this.handleRadioChange,value:0,color:"default",name:"radio-button-demo",inputProps:{"aria-label":"D"}}),label:"Show All"})]}),Object(L.jsx)("div",{className:"approveAll"})]}),Object(L.jsx)("div",{className:"datatable",children:Object(L.jsx)(Pe,{apiRef:void 0,columns:We,rowData:this.state.approvalSheetRecords,checkboxSelection:!0,editRowModel:void 0,rowSelectFn:this.onRowSelected,editCellChangeCommitedFn:this.handleEditCellChangeCommitted,selectionModelChangeFn:this.setSeletedIndex,isDataTableLoading:this.state.isDataTableLoading,isDataTableEditable:!1,isDataTableEditablefn:void 0,isRowSelectionfn:this.isRowSelectable})}),Object(L.jsxs)("div",{className:"footer",children:[Object(L.jsxs)("div",{className:"approversContainer",children:[Object(L.jsxs)("div",{className:"approvers",children:[Object(L.jsx)("label",{children:"Approver Lvl1"}),Object(L.jsx)(pe,{value:this.state.approverlvl1,events:{onChange:function(e){return console.log(e)}},classes:{useStyles:"rejectInput",inputProps:"inputStyles"},isDisabled:!0})]}),Object(L.jsxs)("div",{className:"approvers",children:[Object(L.jsx)("label",{children:"Approver Lvl2"}),Object(L.jsx)(pe,{value:this.state.approverlvl2,events:{onChange:function(e){return console.log(e)}},classes:{useStyles:"rejectInput",inputProps:"inputStyles"},isDisabled:!0})]})]}),Object(L.jsxs)("div",{className:"approverTotal",children:[Object(L.jsxs)("div",{className:"tot",children:[Object(L.jsx)("label",{children:"No of Employees"}),Object(L.jsx)(pe,{value:this.state.noOfEmployee,events:{onChange:function(e){return console.log(e)}},classes:{useStyles:"inputTot",inputProps:"inputStyles"},isDisabled:!0})]}),Object(L.jsxs)("div",{className:"tot",children:[Object(L.jsx)("label",{children:"Total Hours"}),Object(L.jsx)(pe,{value:this.state.totalHours,events:{onChange:function(e){return console.log(e)}},classes:{useStyles:"inputTot",inputProps:"inputStyles"},isDisabled:!0})]})]})]})]})}}]),a}(n.Component),We=[{field:"isCmntExts",headerName:" ",width:60,editable:!1,sortable:!1,disableColumnMenu:!0,renderCell:function(e){if(e){if(1==e.row[e.field]){return Object(L.jsx)("div",{id:e.row.id,onClick:function(e){window.ApprovalTimeSheetClassInstance.handleCommentClick(e.currentTarget.id,e)},children:Object(L.jsx)(Re.a,{})})}return Object(L.jsx)("div",{})}}},{field:"id",headerName:"Employee ID",width:150,editable:!1,sortable:!1,disableColumnMenu:!0},{field:"employeeName",headerName:"Employee Name",width:150,editable:!1,sortable:!1,disableColumnMenu:!0},{field:"status",headerName:"Status",width:150,editable:!1,sortable:!1,disableColumnMenu:!0},{field:"tsType",headerName:"Timesheet Type",width:150,editable:!1,sortable:!1,disableColumnMenu:!0},{field:"pAF_No",headerName:"PAF No",width:150,editable:!1,sortable:!1,disableColumnMenu:!0},{field:"supvNo",headerName:"1st Approver Id",width:150,editable:!0,sortable:!1,disableColumnMenu:!0,type:"editable"},{field:"apprvLvl1",headerName:"Approved Lvl1",width:150,editable:!1,sortable:!1,type:"boolean",disableColumnMenu:!0,renderCell:function(e){if(e){var t=function(e){window.ApprovalTimeSheetClassInstance.handleCheckBoxClick(e)};return e.row.isApprvLvl1?1==e.row.apprvLvl1?Object(L.jsx)("input",{type:"checkbox",id:"apprvLvl1_"+e.id,name:"apprvLvl1",checked:!0,onChange:t}):Object(L.jsx)("input",{type:"checkbox",id:"apprvLvl1_"+e.id,name:"apprvLvl1",checked:!1,onChange:t}):1==e.row.apprvLvl1?Object(L.jsx)("input",{type:"checkbox",id:"apprvLvl1_"+e.id,name:"apprvLvl1",checked:!0,disabled:!0,onChange:t}):Object(L.jsx)("input",{type:"checkbox",id:"apprvLvl1_"+e.id,name:"apprvLvl1",disabled:!0,checked:!1,onChange:t})}}},{field:"apprvLvl2",headerName:"Approved Lv2",width:150,editable:!1,sortable:!1,type:"boolean",disableColumnMenu:!0,renderCell:function(e){if(e){var t=function(e){window.ApprovalTimeSheetClassInstance.handleCheckBoxClick(e)};return e.row.isApprvLvl2?1==e.row.apprvLvl2?Object(L.jsx)("input",{type:"checkbox",id:"apprvLvl2_"+e.id,name:"apprvLvl2",checked:!0,onChange:t}):Object(L.jsx)("input",{type:"checkbox",id:"apprvLvl2_"+e.id,name:"apprvLvl2",checked:!1,onChange:t}):1==e.row.apprvLvl2?Object(L.jsx)("input",{type:"checkbox",id:"apprvLvl2_"+e.id,name:"apprvLvl2",checked:!0,disabled:!0,onChange:t}):Object(L.jsx)("input",{type:"checkbox",id:"apprvLvl2_"+e.id,name:"apprvLvl2",disabled:!0,checked:!1,onChange:t})}}},{field:"rejected",headerName:"Rejected",width:150,editable:!1,sortable:!1,type:"boolean",disableColumnMenu:!0,renderCell:function(e){if(e){var t=function(e){window.ApprovalTimeSheetClassInstance.handleCheckBoxClick(e)};return e.row.isRejected?1==e.row.rejected?Object(L.jsx)("input",{type:"checkbox",id:"rejected_"+e.id,name:"rejected",checked:!0,onChange:t}):Object(L.jsx)("input",{type:"checkbox",id:"rejected_"+e.id,name:"rejected",checked:!1,onChange:t}):1==e.row.rejected?Object(L.jsx)("input",{type:"checkbox",id:"rejected_"+e.id,name:"rejected",checked:!0,disabled:!0,onChange:t}):Object(L.jsx)("input",{type:"checkbox",id:"rejected_"+e.id,name:"rejected",checked:!1,disabled:!0,onChange:t})}}},{field:"reasonCode",headerName:"Reason code",width:150,editable:!1,sortable:!1,disableColumnMenu:!0},{field:"dispTotalHrs",align:"right",headerName:"Total",width:80,editable:!1,sortable:!1,disableColumnMenu:!0}],Be=_e(He),Ve=a(698),Qe=(a(634),a.p+"static/media/qaHeader_Right2.97a6ed0d.jpg"),Ue=Object(P.a)((function(e){return{header:{display:"flex",height:"60px","background-color":"black","text-align":"center"},left:{color:"white",float:"left",width:"25%","font-size":"40px","background-color":"#df8734","vertical-align":"sub"},middle:{color:"white",width:"75%","padding-top":"30px",bottom:0},right:{float:"right",color:"white","padding-top":"10px","font-size":"30px",flex:1},headerMenue:{height:"30px","background-color":"blue",position:"relative",display:"flex",flexDirection:"row","& > * + *":{marginLeft:e.spacing(2)}},"MuiTypography-colorPrimary":{color:"#ffffff"},"makeStyles-menHeader-6makeStyles-enterTimeSheet-8":{marginLeft:"16px"},menHeader:{color:"white"},container:{position:"relative",margin:"0 auto",overflow:"hidden","&::after":{content:'""',position:"absolute","background-color":"black","padding-bottom":"241.42136%",width:"100%",bottom:0,left:0,transform:"rotate(135deg)"}},enterTimeSheet:{marginLeft:"16px"},logout:{},aboutQtime:{},approveTimeSheet:{},changePassword:{},compLogo:{backgroundImage:"url(".concat(Qe,")")}}}));function ze(e){var t=Object(d.g)(),a=M(),n=Fe().logOut,r=Ue(),s=new Date,i=s.getHours()+":"+s.getMinutes()+":"+s.getSeconds(),o="Welcome "+localStorage.getItem(A)+" on "+(new Date).toDateString()+" "+i;return Object(L.jsxs)("div",{className:"content",children:[Object(L.jsxs)("div",{className:r.header,children:[Object(L.jsx)("div",{className:"".concat(r.left," ").concat(r.container),children:"QTIME"}),Object(L.jsx)("div",{className:r.middle,children:o})]}),Object(L.jsxs)("div",{className:"headerMenue",children:[Object(L.jsxs)("div",{className:"headerGroup1",children:[Object(L.jsx)("div",{className:"menHeader enterTimeSheet font15",children:Object(L.jsx)(Ve.a,{onClick:e.enterTimeSheet,children:"Enter Timesheet"})}),Object(L.jsx)("div",{className:"menHeader approveTimeSheet font15",children:Object(L.jsx)(Ve.a,{onClick:e.approvalTimeSheet,children:C})}),Object(L.jsx)("div",{className:"menHeader changePassword font15",children:Object(L.jsx)(Ve.a,{onClick:e.changePassword,children:"Change Password"})})]}),Object(L.jsxs)("div",{className:"headerGroup2",children:[Object(L.jsx)("div",{className:"menHeader aboutQTime font15",children:Object(L.jsx)(Ve.a,{onClick:e.openAboutScreen,children:"About QTIME"})}),Object(L.jsx)("div",{className:"menHeader logout font15",children:Object(L.jsx)(Ve.a,{onClick:function(){n(),a.signout((function(){return t.push("/")}))},children:"Logout"})})]})]}),Object(L.jsx)("div",{className:"subHeader",children:e.title})]})}var Je,Ge=a(85),Ke=Object(P.a)((function(e){return Object(R.a)({root:{flexGrow:1},paper:{"border-radius":e.spacing(0),border:"1px solid #FFFFFF",padding:e.spacing(0),paddingLeft:e.spacing(1),height:e.spacing(6),display:"flex","justify-content":"center","flex-direction":"column"},primaryRow:{backgroundColor:"#FFFFFF"},secondryRow:{backgroundColor:"#FFFFFF"}})}));function qe(e){var t=Ke(),a=e.text,n=e.data,r=e.currentVal,s=e.prop,i=e.isPrimary,o=void 0===i||i,c=e.defaultText,l=void 0===c?"":c,d=e.onChange,u=function(){return o?"".concat(t.paper," ").concat(t.primaryRow):"".concat(t.paper," ").concat(t.secondryRow)};return Object(L.jsx)("div",{className:t.root,children:Object(L.jsxs)(he.a,{container:!0,spacing:0,children:[Object(L.jsx)(he.a,{item:!0,xs:3,children:Object(L.jsx)("div",{className:u(),children:Object(L.jsx)(J.a,{variant:"h6",gutterBottom:!0,children:a})})}),Object(L.jsx)(he.a,{item:!0,xs:9,children:Object(L.jsx)("div",{className:u(),children:Object(L.jsx)(Se,{elements:n,onSelect:function(e){d(e,s)},selectedVal:r,defaultText:l})})})]})})}!function(e){e.DAY1="day1",e.DAY2="day2",e.DAY3="day3",e.DAY4="day4",e.DAY5="day5",e.DAY6="day6",e.DAY7="day7"}(Je||(Je={}));var Ye=Object(P.a)((function(e){return Object(R.a)({primaryRow:{backgroundColor:"#80d8ff"},secondryRow:{backgroundColor:"#f5f5f5"},headerTitle:{backgroundColor:"#606060",color:"#ffff"}})})),Xe=Object(me.a)((function(e){return{root:{padding:e.spacing(0)}}}))(_.a);function Ze(e){var t=Ye(),a=Fe(),r=a.getProjectCode,s=a.getJobCode,i=a.getProjectData,c=a.getLocation,l=e.setLoader,d=(e.code.id,Object(n.useState)(!0)),u=Object(x.a)(d,2),h=u[0],j=u[1],m=Object(n.useState)(e.code.codeEntry),f=Object(x.a)(m,2),v=f[0],g=f[1],O=v.l1,C=v.jobCode,S=v.l2,y=v.l3,w=v.l4,k=v.l5,T=v.location,N="0910",A=Object(n.useState)(!1),E=Object(x.a)(A,2),D=E[0],I=E[1],M=Object(n.useState)([]),P=Object(x.a)(M,2),R=P[0],_=P[1],H=Object(n.useState)([]),B=Object(x.a)(H,2),V=B[0],Q=B[1],U=Object(n.useState)({fBudgeted:[],fCode03:[],fCode04:[],fCode06:[],fCode08:[]}),z=Object(x.a)(U,2),J=z[0],G=z[1],K=Object(n.useState)([]),q=Object(x.a)(K,2),Y=q[0],X=q[1],Z=Object(n.useState)([]),$=Object(x.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)([]),ne=Object(x.a)(ae,2),re=ne[0],se=ne[1],ie=Object(n.useState)([]),oe=Object(x.a)(ie,2),ce=oe[0],le=oe[1],de=Object(n.useState)([]),ue=Object(x.a)(de,2),pe=ue[0],he=ue[1],me=Object(n.useState)([{key:"0910",value:"0910 - JG3",title:"JG3"}]),fe=Object(x.a)(me,2),ve=fe[0];fe[1];Object(n.useEffect)((function(){e.open&&(I(!1),ge())}),[e.open]),Object(n.useEffect)((function(){e.open&&O&&!h&&Te(O)}),[O]),Object(n.useEffect)((function(){e.open&&O&&C&&!h&&Ne(O,C)}),[C]),Object(n.useEffect)((function(){e.open&&O&&S&&!h&&Ee(J.fCode04,O,S)}),[S]),Object(n.useEffect)((function(){e.open&&O&&S&&y&&!h&&Le(J.fCode06,O,S,y)}),[y]),Object(n.useEffect)((function(){e.open&&O&&S&&y&&w&&!h&&De(J.fCode08,O,S,y,w)}),[w]),Object(n.useEffect)((function(){e.open&&Me(O,e.code.codeEntry.l1)}),[R]),Object(n.useEffect)((function(){var t;e.open&&!h&&Me(null===(t=V[0])||void 0===t?void 0:t.key,"jobCode")}),[V]),Object(n.useEffect)((function(){e.open&&O&&!h&&Ae(J.fCode03,O)}),[J]),Object(n.useEffect)((function(){var t;e.open&&!h&&Me(null===(t=ee[0])||void 0===t?void 0:t.key,"l2")}),[ee]),Object(n.useEffect)((function(){var t;e.open&&!h&&Me(null===(t=re[0])||void 0===t?void 0:t.key,"l3")}),[re]),Object(n.useEffect)((function(){var t;e.open&&!h&&Me(null===(t=ce[0])||void 0===t?void 0:t.key,"l4")}),[ce]),Object(n.useEffect)((function(){var t;e.open&&!h&&Me(null===(t=pe[0])||void 0===t?void 0:t.key,"l5")}),[pe]),Object(n.useEffect)((function(){var t;e.open&&!h&&Me(null===(t=Y[0])||void 0===t?void 0:t.key,"location")}),[Y]),Object(n.useEffect)((function(){e.open&&h&&(l(!1),j(!1))}),[v]);var ge=function(){var t=Object(b.a)(p.a.mark((function t(){var a,n,r,s,i,o,c,d,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.next=3,Se();case 3:return a=t.sent,_(Ie(a,"CODE01","TITLE")),t.next=7,ke();case 7:if(n=t.sent,X(Ie(n,"CODE","TITLE")),!(e.code.id>0)){t.next=22;break}return r=e.code.codeEntry,s=r.l1,i=r.l2,o=r.l3,c=r.l4,d=r.jobCode,t.next=13,Te(s);case 13:return t.next=15,we(s,d);case 15:u=t.sent,G(u),Ae(u.fCode03,s),Ee(u.fCode04,s,i),Le(u.fCode06,s,i,o),De(u.fCode08,s,i,o,c),g(e.code.codeEntry);case 22:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Oe=function(){xe(),e.onClose()},xe=function(){g({l1:"",jobCode:"",l2:"",l3:"",l4:"",l5:"",classification:"",location:"",l3Title:"",l4Title:""}),j(!0),Q([]),G({fBudgeted:[],fCode03:[],fCode04:[],fCode06:[],fCode08:[]}),X([]),_([]),te([]),se([]),le([]),he([])},Ce=function(e,t){var a="";return t.forEach((function(t){t.key===e&&(a=t.title)})),a},Se=function(){var t=Object(b.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(e.employeeId);case 2:if(200!==(a=t.sent).code){t.next=6;break}return n=a.data,t.abrupt("return",n);case 6:return t.abrupt("return",[]);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ye=function(){var t=Object(b.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(e.employeeId,a);case 2:if(200!==(n=t.sent).code){t.next=6;break}return r=n.data,t.abrupt("return",r);case 6:return t.abrupt("return",{fJobCodes:[],fCode02:[]});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),we=function(){var t=Object(b.a)(p.a.mark((function t(a){var n,r,s,o=arguments;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"-",t.next=3,i(e.employeeId,a,n);case 3:if(200!==(r=t.sent).code){t.next=7;break}return s=r.data,t.abrupt("return",s);case 7:return t.abrupt("return",{fBudgeted:[],fCode03:[],fCode04:[],fCode06:[],fCode08:[]});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ke=function(){var t=Object(b.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(e.employeeId);case 2:if(200!==(a=t.sent).code){t.next=6;break}return n=a.data,t.abrupt("return",n);case 6:return t.abrupt("return",[]);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Te=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(t);case 2:(a=e.sent).fCode02.length>0&&(n=Ie(a.fCode02,"Code02","Title"),Q(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(t,a);case 2:n=e.sent,G(n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ae=function(e,t){if(e&&e.length>0){var a=Pe(e,["Code01"],[t],"Code03");a.length>0&&te(a)}},Ee=function(e,t,a){if(e&&e.length>0){var n=Pe(e,["Code01","Code03"],[t,a],"Code04");n.length>0&&se(n)}},Le=function(e,t,a,n){if(e&&e.length>0){var r=Pe(e,["Code01","Code03","Code04"],[t,a,n],"Code06");r.length>0&&le(r)}},De=function(e,t,a,n,r){if(e&&e.length>0){var s=Pe(e,["Code01","Code03","Code04","Code06"],[t,a,n,r],"Code08");s.length>0&&he(s)}},Ie=function(e,t,a){return e.map((function(e){return{key:e[t],value:"".concat(e[t]," - ").concat(e[a]),title:e[a]}}))},Me=function(e,t){var a=Object(o.a)(Object(o.a)({},v),{},Object(Ge.a)({},t,e));g(a)},Pe=function(e,t,a,n){return e.reduce((function(e,r){if(Re(r,t,a)){var s={key:r[n],value:"".concat(r[n]," - ").concat(r.Title),title:r.Title};e.push(s)}return e}),[])},Re=function(e,t,a){for(var n=0;n<t.length;n++)if(e[t[n]]!=a[n])return!1;return!0};return Object(L.jsx)("div",{className:"detailContainer1",children:Object(L.jsxs)(F.a,{className:"detailContainer1_1",disableBackdropClick:!0,disableEscapeKeyDown:!0,fullWidth:!0,maxWidth:"md","aria-labelledby":"form-dialog-title",open:!h&&e.open,onClose:e.onClose,children:[Object(L.jsx)(je.a,{id:"form-dialog-title",className:t.headerTitle,children:0==e.code.id?"Add Codes":"Edit Codes"}),Object(L.jsxs)(Xe,{dividers:!0,children:[Object(L.jsx)(qe,{text:"Project(L1)",data:R,currentVal:O,prop:"l1",onChange:Me,defaultText:"Select Project"}),Object(L.jsx)(qe,{text:"Job Code",data:V,currentVal:C,prop:"jobCode",isPrimary:!1,onChange:Me}),Object(L.jsx)(qe,{text:"L2",data:ee,currentVal:S,prop:"l2",isPrimary:!1,onChange:Me}),Object(L.jsx)(qe,{text:"L3",data:re,currentVal:y,prop:"l3",onChange:Me}),Object(L.jsx)(qe,{text:"L4",data:ce,currentVal:w,prop:"l4",isPrimary:!1,onChange:Me}),Object(L.jsx)(qe,{text:"Dept(L5)",data:pe,currentVal:k,prop:"l5",onChange:Me}),Object(L.jsx)(qe,{text:"Classification",data:ve,currentVal:N,prop:"classification",isPrimary:!1,onChange:Me}),Object(L.jsx)(qe,{text:"Location",data:Y,currentVal:T,prop:"location",isPrimary:!1,onChange:Me})]}),Object(L.jsxs)(be.a,{children:[Object(L.jsx)(W.a,{disabled:D||!O,onClick:function(){if(!D){I(!0);var t={id:e.code.id,codeEntry:{l1:O,jobCode:C,l2:S,l3:y,l4:w,l5:k,classification:N,location:T,l3Title:Ce(y,re),l4Title:Ce(w,ce)},int_change:e.code.int_change};e.onOkPressed(t),Oe()}},color:"primary",children:"OK"}),Object(L.jsx)(W.a,{onClick:Oe,color:"primary",children:"Cancel"})]})]})})}var $e=Object(P.a)((function(e){return Object(R.a)({root:{flexGrow:1,paddingTop:10,margin:10},week:{display:"flex",flexDirection:"row",textAlign:"center",height:50,justifyContent:"center"},dropdownTitle:{display:"flex",justifyContent:"center",flexDirection:"column",width:"15%",textAlign:"left"},paper:{"border-radius":e.spacing(0),border:"1px solid #FFFFFF",padding:e.spacing(0),paddingLeft:e.spacing(1),height:e.spacing(6),display:"flex","justify-content":"center","flex-direction":"column"},primaryRow:{backgroundColor:"#80d8ff"},secondryRow:{backgroundColor:"#f5f5f5"},weekno:{paddingLeft:5,justifyContent:"center",display:"flex",flexDirection:"column",fontSize:"1rem",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:400,lineHeight:1.5,letterSpacing:"0.00938em"},weeknolbl:{justifyContent:"center",display:"flex",flexDirection:"column",fontSize:"1rem",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:400,lineHeight:1.5,letterSpacing:"0.00938em"},qTimeDropdown:{display:"flex",justifyContent:"center",flexWrap:"wrap",alignContent:"flex-start"},periodDropDownTitle:{width:"40%"}})}));function et(e){var t=$e(),a=Object(n.useState)([]),r=Object(x.a)(a,2),s=r[0],i=r[1],o=Object(n.useState)([]),c=Object(x.a)(o,2),l=c[0],d=c[1],u=Object(n.useState)([]),h=Object(x.a)(u,2),j=h[0],m=h[1],f=Object(n.useState)(""),v=Object(x.a)(f,2),g=v[0],O=v[1],C=Object(n.useState)([]),S=Object(x.a)(C,2),y=S[0],w=S[1],A=Object(n.useState)(String),E=Object(x.a)(A,2),D=E[0],I=E[1],M=Fe(),P=M.getEmployeeList,R=M.getEndingWeek;Object(n.useEffect)((function(){F(),_()}),[]);var F=function(){var e=Object(b.a)(p.a.mark((function e(){var t,a,n,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P("Id,SurName,OthrNames");case 2:200===(t=e.sent).code&&(a=t.data.map((function(e){return{key:e.Id,value:"".concat(e.DispName)}})),d(a),n=localStorage.getItem(N)||"",r=localStorage.getItem(k)||"",s=localStorage.getItem(T)||"",n.length>0&&r.length>0&&s.length>0&&O(n+"-"+"".concat(n," - ").concat(r," ").concat(s)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var t=Object(b.a)(p.a.mark((function t(){var a,n,r,s,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R();case 2:200===(a=t.sent).code&&(n=a.data,r=H(n),s=n.map((function(e){return{key:e.WeekNo,value:e.PayDate.split("T")[0]}})),i(s),w(n),r&&r.length>0&&(m(r[0].WeekNo),I(r[0].WeekNo+"-"+r[0].PayDate.split("T")[0]),(o=n.findIndex((function(e){return e.WeekNo==r[0].WeekNo})))>-1&&e.onWeekObjectChange(n,o)));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),H=function(e){return e.filter((function(e){return 1==e.CurPayDate}))};return Object(L.jsx)("div",{className:t.root+" empDetailContainer",children:Object(L.jsxs)(he.a,{container:!0,spacing:0,children:[Object(L.jsx)(he.a,{item:!0,xs:7,children:Object(L.jsxs)("div",{className:t.week,children:[Object(L.jsx)(J.a,{className:t.dropdownTitle+" font15",gutterBottom:!0,children:"Employee"}),Object(L.jsx)(Le,{elements:l,selectedVal:g,onChangeEvt:function(t){O(t.target.value),e.handleEmployeeChange(t)}})]})}),Object(L.jsx)(he.a,{item:!0,xs:2,children:Object(L.jsxs)("div",{className:t.week,children:[Object(L.jsx)("label",{className:t.weeknolbl+" font15",children:"Week no: "}),Object(L.jsx)("label",{className:t.weekno+" font15",children:j})]})}),Object(L.jsx)(he.a,{item:!0,xs:3,children:Object(L.jsxs)("div",{className:t.week,children:[Object(L.jsx)(J.a,{className:"".concat(t.dropdownTitle," ").concat(t.periodDropDownTitle)+" font15",gutterBottom:!0,children:"Period Ending"}),Object(L.jsx)(Le,{selectedVal:D,elements:s,onChangeEvt:function(t){m(t.target.value.split("-")[0]),I(t.target.value),e.onWeekObjectChange(y,t.target.selectedIndex)}})]})})]})})}a(635);var tt=Object(P.a)((function(e){return Object(R.a)({margin:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)}})}));function at(e){var t=tt(),a=Object(n.useState)(!0),r=Object(x.a)(a,2),s=r[0],i=r[1],o=Object(n.useState)(!0),c=Object(x.a)(o,2),l=c[0],d=c[1],u=Object(n.useState)(!0),p=Object(x.a)(u,2),b=p[0],h=p[1],j=Object(n.useState)(!0),m=Object(x.a)(j,2),f=(m[0],m[1]),v=Object(n.useState)(!0),g=Object(x.a)(v,2),O=g[0],C=g[1],S=Object(n.useState)(!0),y=Object(x.a)(S,2),w=y[0],k=y[1],T=Object(n.useState)(!0),N=Object(x.a)(T,2),A=N[0],E=N[1],D=Object(n.useState)(!0),I=Object(x.a)(D,2),M=I[0],P=I[1];Object(n.useEffect)((function(){if(e&&e.submitBtnCaption)switch(e.submitBtnCaption){case 1:case 2:i(!1),d(!1),C(!1),f(!1),k(!1),E(!1),P(!1),h(!1);break;case 3:case 4:E(!1),f(!1),P(!1),i(!0),d(!0),C(!0),k(!0),h(!0);break;case 5:case 6:f(!1),E(!1),P(!0),i(!0),d(!0),C(!0),k(!0),h(!0);break;case-100:i(!1),d(!1),C(!1),f(!1),k(!1),E(!1),P(!1),h(!1)}}),[e]);var R="Not Submitted",F="Submit";if(e.submittedStatus&&e.submittedStatus.length>0&&(R=e.submittedStatus),e.submitBtnCaption)switch(e.submitBtnCaption){case 1:F="Submit";break;case 2:F="Rejected and Resubmit";break;case 3:case 4:F="Un Submit";break;case 5:F=" Approved Lvl1";break;case 6:F="Approved Lvl2";break;case-100:R="Not Submitted",F="Submit"}return Object(L.jsxs)("div",{className:"statusBar",children:[Object(L.jsxs)("div",{className:"statusBar-section1",children:[Object(L.jsx)(W.a,{variant:"outlined",className:t.margin,disabled:s,onClick:e.onNewBtnClick,children:e.newBtnCaption}),!l&&Object(L.jsx)("button",{className:"btn-edit",children:Object(L.jsx)("i",{className:"btnEdit",onClick:e.onEditClick})}),!O&&Object(L.jsx)("button",{className:"btn-remove",children:Object(L.jsx)("i",{className:"btnRemove",onClick:e.onDeleteClick})}),!w&&Object(L.jsx)("button",{className:"btn-save",children:Object(L.jsx)("i",{className:"btnSave",onClick:e.onSaveClick})}),!A&&Object(L.jsx)("button",{className:"btn-comment",children:Object(L.jsx)("i",{className:"btnComment",onClick:e.onCommentClick})}),!b&&Object(L.jsx)("button",{className:"btn-copy",children:Object(L.jsx)("i",{className:"btnCopy",onClick:e.onCopyClick})}),Object(L.jsx)("button",{className:"btn-Close",disabled:!1,children:Object(L.jsx)("i",{className:"btnClose",onClick:e.onCloseClick})})]}),Object(L.jsxs)("div",{className:"statusBar-section2",children:[Object(L.jsx)(W.a,{size:"small",variant:"outlined",className:t.margin,disabled:M,onClick:e.onSubmitClicked,children:F}),Object(L.jsx)("label",{className:"lblStatus",children:"Status:"}),Object(L.jsx)("label",{className:"lblStatusVal",children:R})]})]})}var nt=Object(P.a)((function(e){return Object(R.a)({root:{flexGrow:1},input:{},rejectSelect:{height:30,padding:0},rejectInput:{borderRadius:0},actionText:{flex:"0 0 auto",display:"flex",padding:8,"align-items":"center","justify-content":"flex-start"},primaryRow:{backgroundColor:"#80d8ff"},secondryRow:{backgroundColor:"#f5f5f5"},headerTitle:{backgroundColor:"#606060",color:"#ffff"}})}));function rt(e){var t=nt(),a=e.data,r=Object(n.useState)(e.todayDate),s=Object(x.a)(r,2),i=s[0],o=s[1];Object(n.useEffect)((function(){c()}),[e]);var c=function(){var e=a.filter((function(e){return 1==e.CurPayDate}));e.length>0&&o(e[0].WeekNo)},l=function(e){o(e)};return Object(L.jsx)("div",{children:Object(L.jsxs)(F.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,fullWidth:!0,"aria-labelledby":"form-dialog-title",open:e.open,onClose:e.onClose,children:[Object(L.jsx)(je.a,{id:"form-dialog-title",className:t.headerTitle,children:"Copy Timesheet"}),Object(L.jsx)(_.a,{dividers:!0,children:Object(L.jsx)(qe,{text:"Period Ending",data:a,isPrimary:!0,onChange:l,currentVal:i,prop:""})}),Object(L.jsxs)(be.a,{children:[Object(L.jsx)(W.a,{onClick:function(){e.onOkPressed(i),e.onClose()},color:"primary",children:"OK"}),Object(L.jsx)(W.a,{onClick:e.onClose,color:"primary",children:"Cancel"})]})]})})}var st=[{field:"title",headerName:" ",width:188,editable:!1,sortable:!1,disableColumnMenu:!0},{field:"tot_jobcode",headerName:" ",width:94,editable:!1,sortable:!1,disableColumnMenu:!0},{field:"tot_l_2",headerName:" ",width:55,editable:!1,sortable:!1,disableColumnMenu:!0},{field:"tot_l_3",headerName:" ",width:55,editable:!1,sortable:!1,disableColumnMenu:!0},{field:"tot_l_4",headerName:" ",width:55,editable:!1,sortable:!1,disableColumnMenu:!0},{field:"tot_depth_4",headerName:" ",width:120,editable:!1,sortable:!1,disableColumnMenu:!0},{field:"tot_classific",headerName:" ",width:100,editable:!0,sortable:!1,disableColumnMenu:!0,type:"editable"},{field:"tot_location",headerName:" ",width:100,editable:!1,sortable:!1,disableColumnMenu:!0},{field:"tot_l_3title",headerName:" ",width:100,editable:!1,sortable:!1,disableColumnMenu:!0},{field:"tot_l_4title",headerName:" ",width:120,editable:!1,sortable:!1,disableColumnMenu:!0},{field:"total",headerName:"Total",width:75,editable:!1,sortable:!1,align:"right",disableColumnMenu:!0},{field:"day1",headerName:"Mon",width:75,editable:!0,sortable:!1,align:"right",disableColumnMenu:!0},{field:"day2",headerName:"Tue",width:75,align:"right",editable:!0,sortable:!1,disableColumnMenu:!0},{field:"day3",headerName:"Wed",width:75,align:"right",editable:!0,sortable:!1,disableColumnMenu:!0},{field:"day4",headerName:"Thu",align:"right",width:75,editable:!0,sortable:!1,disableColumnMenu:!0},{field:"day5",headerName:"Fri",width:75,align:"right",editable:!0,sortable:!1,disableColumnMenu:!0},{field:"day6",headerName:"Sat",width:75,align:"right",editable:!0,sortable:!1,disableColumnMenu:!0},{field:"day7",headerName:"Sun",width:75,align:"right",editable:!0,sortable:!1,disableColumnMenu:!0}],it=[{field:"l1",headerName:"Project(L1)",width:138,editable:!1,sortable:!1,disableColumnMenu:!0,headerClassName:""},{field:"jobCode",headerName:"Job Code",width:94,editable:!1,sortable:!1,disableColumnMenu:!0,headerClassName:""},{field:"l2",headerName:"L2",width:55,editable:!1,sortable:!1,disableColumnMenu:!0,headerClassName:""},{field:"l3",headerName:"L3",width:55,editable:!1,sortable:!1,disableColumnMenu:!0,headerClassName:""},{field:"l4",headerName:"L4",width:55,editable:!1,sortable:!1,disableColumnMenu:!0,headerClassName:""},{field:"l5",headerName:"Dept(L5)",width:120,editable:!1,sortable:!1,disableColumnMenu:!0,headerClassName:""},{field:"classification",headerName:"Classific",width:100,editable:!0,sortable:!1,disableColumnMenu:!0,type:"editable",headerClassName:""},{field:"location",headerName:"Location",width:100,editable:!1,sortable:!1,disableColumnMenu:!0,headerClassName:""},{field:"l3Title",headerName:"L3-Title",width:100,editable:!1,sortable:!1,disableColumnMenu:!0,headerClassName:""},{field:"l4Title",headerName:"L4-Title",width:120,editable:!1,sortable:!1,disableColumnMenu:!0,headerClassName:""},{field:"total",headerName:"Total",width:75,align:"right",editable:!1,sortable:!1,disableColumnMenu:!0,headerClassName:""},{field:"day1",headerName:"21 Jun",width:80,editable:!0,align:"right",sortable:!1,disableColumnMenu:!0,headerClassName:""},{field:"day2",headerName:"22 Jun",width:80,editable:!0,align:"right",sortable:!1,disableColumnMenu:!0,headerClassName:""},{field:"day3",headerName:"23 Jun",width:80,align:"right",editable:!0,sortable:!1,disableColumnMenu:!0,headerClassName:""},{field:"day4",headerName:"24 Jun",width:80,align:"right",editable:!0,sortable:!1,disableColumnMenu:!0,headerClassName:""},{field:"day5",headerName:"25 Jun",width:80,align:"right",editable:!0,sortable:!1,disableColumnMenu:!0,headerClassName:""},{field:"day6",headerName:"26 Jun",width:80,align:"right",editable:!0,sortable:!1,disableColumnMenu:!0,headerClassName:""},{field:"day7",headerName:"27 Jun",width:80,align:"right",editable:!0,sortable:!1,disableColumnMenu:!0,headerClassName:""}],ot=Object(n.createContext)({});function ct(e){var t=function(){var e=Object(n.useState)(!1),t=Object(x.a)(e,2),a=t[0],r=t[1];return{isLoading:a,hideLoader:function(){r(!1)},showLoader:function(){r(!0)}}}();return Object(L.jsx)(ot.Provider,{value:t,children:e.children})}var lt=function(){return Object(n.useContext)(ot)};a(636);var dt,ut=Object(P.a)((function(e){return Object(R.a)({root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}})})),pt=function(e){ut();var t=lt(),a=t.showLoader,s=t.hideLoader,i=Fe(),c=i.qTimeSaveFn,l=i.copyTimeSheet,d=i.getEndingWeek,u=i.getTimeSheetData,h=Object(De.c)(),j=Object(De.c)(),m=r.a.useState(),f=Object(x.a)(m,2),v=f[0],g=f[1],O=r.a.useState([]),C=Object(x.a)(O,2),S=C[0],y=C[1],w=Object(n.useState)(!1),k=Object(x.a)(w,2),T=k[0],A=k[1],E=Object(n.useState)(!1),D=Object(x.a)(E,2),I=D[0],M=D[1],P=Object(n.useState)(!1),R=Object(x.a)(P,2),F=R[0],_=R[1],H=Object(n.useState)(!1),W=Object(x.a)(H,2),B=W[0],V=W[1],Q=Object(n.useState)(!1),U=Object(x.a)(Q,2),z=U[0],J=U[1],G=Object(n.useState)(it),K=Object(x.a)(G,2),Y=K[0],X=K[1],Z=Object(n.useState)([]),$=Object(x.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)(""),ne=Object(x.a)(ae,2),re=ne[0],se=ne[1],oe=Object(n.useState)([]),ce=Object(x.a)(oe,2),le=ce[0],de=ce[1],ue=Object(n.useState)({id:0,codeEntry:{l1:"",jobCode:"",l2:"",l3:"",l4:"",l5:"",classification:"",location:"",l3Title:"",l4Title:""},int_change:0}),pe=Object(x.a)(ue,2),be=pe[0],he=pe[1],je=r.a.useState({}),me=Object(x.a)(je,2),fe=me[0],ve=(me[1],r.a.useState({})),ge=Object(x.a)(ve,2),Oe=ge[0],xe=(ge[1],Object(n.useState)(1)),Ce=Object(x.a)(xe,2),Se=Ce[0],ye=Ce[1],we=Object(n.useState)(""),ke=Object(x.a)(we,2),Ne=ke[0],Ae=ke[1],Ee=Object(n.useState)(""),Le=Object(x.a)(Ee,2),Ie=Le[0],Me=Le[1],Re=Object(n.useState)([]),_e=Object(x.a)(Re,2),He=_e[0],We=_e[1],Be=Object(n.useState)([]),Ve=Object(x.a)(Be,2),Qe=Ve[0],Ue=Ve[1],ze=Object(n.useState)(""),Je=Object(x.a)(ze,2),Ge=Je[0],Ke=Je[1],qe=Object(n.useState)(""),Ye=Object(x.a)(qe,2),Xe=Ye[0],$e=Ye[1],tt=Object(n.useState)(""),nt=Object(x.a)(tt,2),ot=nt[0],ct=nt[1],dt=Object(n.useState)("Display"),pt=Object(x.a)(dt,2),bt=pt[0],ht=pt[1],jt=Object(n.useState)({employeeComment:"",approver1Comment:"",approver2Comment:"",reasonCode:"",selectedId:"",approver:void 0}),mt=Object(x.a)(jt,2),ft=mt[0],vt=mt[1];Object(n.useEffect)((function(){if(Ge.length>0){Ke("");var e=Rt(S,Ge);if(ee.length>0){e.includes(".")?ee[0][Ge]=e:ee[0][Ge]=e+".0";var t=gt(ee);ee[0].total=t,te(Object(ie.a)(ee))}}}),[Ge]);var gt=function(e){if(e.length>0)return At(e[0])},Ot=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n,r,s,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ht("Display"),ye(-100),y([]),te([]),n=t[a].PayDate.split("T")[0],(r=new Date(n)).setDate(r.getDate()-6),it[11].headerName=r.toDateString().split(" ")[2]+" "+r.toDateString().split(" ")[1],r.setDate(r.getDate()+1),it[12].headerName=r.toDateString().split(" ")[2]+" "+r.toDateString().split(" ")[1],r.setDate(r.getDate()+1),it[13].headerName=r.toDateString().split(" ")[2]+" "+r.toDateString().split(" ")[1],r.setDate(r.getDate()+1),it[14].headerName=r.toDateString().split(" ")[2]+" "+r.toDateString().split(" ")[1],r.setDate(r.getDate()+1),it[15].headerName=r.toDateString().split(" ")[2]+" "+r.toDateString().split(" ")[1],r.setDate(r.getDate()+1),it[16].headerName=r.toDateString().split(" ")[2]+" "+r.toDateString().split(" ")[1],r.setDate(r.getDate()+1),it[17].headerName=r.toDateString().split(" ")[2]+" "+r.toDateString().split(" ")[1],s=Object(ie.a)(it),X(s),$e(n),e.next=25,kt();case 25:(i=e.sent)&&i.length>0&&(o=i.map((function(e){return{key:e.WeekNo,value:e.PayDate.split("T")[0]}})),Ue(i),We(o));case 27:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),xt=function(){switch(bt){case"New":A(!T),he({id:0,codeEntry:{l1:"",jobCode:"",l2:"",l3:"",l4:"",l5:"",classification:"",location:"",l3Title:"",l4Title:""},int_change:0});break;case"Display":Lt(Xe,!0),ht("New")}},Ct=function(){var e=Object(b.a)(p.a.mark((function e(){var t,n,r,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=v)){e.next=22;break}a(),n=t.fTmpTs[0],r=Tt(S,n),t.fTmpTs=r,e.t0=t.fTshSum[0].STATUS,e.next=1===e.t0?9:4===e.t0?11:2===e.t0?13:3===e.t0?15:17;break;case 9:return t.fTshSum[0].STATUS=4,e.abrupt("break",17);case 11:return t.fTshSum[0].STATUS=1,e.abrupt("break",17);case 13:return t.fTshSum[0].STATUS=3,e.abrupt("break",17);case 15:return t.fTshSum[0].STATUS=1,e.abrupt("break",17);case 17:return e.next=19,c("1",t);case 19:i=e.sent,s(),200===i.code?(o=i.data)&&(o.response?o.response.data.ExceptionMessage&&q()("QTIME",o.response.data.ExceptionMessage,"error"):o.includes("ERROR")?q()("QTIME",o.split("ERROR -")[1],"error"):q()("QTIME","Timesheet has been saved successfully","success").then((function(e){_(!0),Lt(Xe,!1),_(!1)}))):q()("QTIME",i.data.ExceptionMessage,"error");case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),St=function(){var e=Object(b.a)(p.a.mark((function e(){var t,a,n,r,s,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=S,a=function(e){var a=t.findIndex((function(t){return t.id==le[e]}));a>-1&&(t[a].int_change=-1)},n=0;n<le.length;n++)a(n);if(!v){e.next=11;break}return s=(r=v).fTmpTs[0],r.fTmpTs=Tt(t,s),e.next=9,c("1",r);case 9:200===(i=e.sent).code?(o=i.data).response?o.response.data.ExceptionMessage&&q()("QTIME",o.response.data.ExceptionMessage,"error"):o.includes("ERROR")?q()("QTIME",o.split("ERROR -")[1],"error"):q()("QTIME","Deleted successfully","success").then((function(e){_(!0),Lt(Xe,!1),_(!1)})):q()("QTIME",i.data.ExceptionMessage,"error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),yt=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le.length>0&&q()({title:"Are you sure?",text:"Do you want to delete the records",icon:"warning",buttons:["Ok","Cancel"],dangerMode:!0,closeOnEsc:!1,closeOnClickOutside:!1}).then((function(e){e||St()}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),wt=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}if(""==t&&(t=0),a=Qe.filter((function(e){return e.WeekNo==t})),n=localStorage.getItem(N)||"",0==ot.trim().length&&ct(n),1!=a.length){e.next=10;break}return e.next=8,l(ot||n,Xe,a[0].PayDate.split("T")[0]);case 8:200===(r=e.sent).code&&(r.data,Dt(r,!1));case 10:J(!z);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kt=function(){var e=Object(b.a)(p.a.mark((function e(){var t,a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:if(200!==(t=e.sent).code){e.next=15;break}a=t.data,n=[],r=0;case 7:if(!(r<a.length)){e.next=15;break}if(1!=a[r].CurPayDate){e.next=11;break}return n.push(a[r]),e.abrupt("return",n);case 11:n.push(a[r]);case 12:r++,e.next=7;break;case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Tt=function(e,t){return S.map((function(e){return{Code01:e.l1,Code02:e.jobCode,Code03:e.l2,Code04:e.l3,Code05:t&&t.Code05||"",Dept:e.l5,Classifctn:e.classification,Location:e.location,Total:parseFloat(e.total.toString()),Code06:e.l4,Code07:t&&t.Code07||"",Code08:e.l5,Code09:t&&t.Code09||"",Code10:t&&t.Code10||"",EnteredBy:t&&t.EnteredBy||"",DateEdited:t&&t.DateEdited||"1900-01-01T00:00:00",DateAdded:t&&t.DateAdded||"1900-01-01T00:00:00",Holiday:t&&t.Holiday||"",Shift:t&&t.Shift||"",PCType:t&&t.PCType||"",OTF:t&&t.OTF||0,RowNo:e.id,ActDesc:t&&t.ActDesc||"",PostFreez:t&&t.PostFreez||!1,L3_Title:t&&t.L3_Title||"",L4_Title:t&&t.Code06||"",Int_Change:e.int_change,Hrs01:parseFloat(e.day1.toString()),Hrs02:parseFloat(e.day2.toString()),Hrs03:parseFloat(e.day3.toString()),Hrs04:parseFloat(e.day4.toString()),Hrs05:parseFloat(e.day5.toString()),Hrs06:parseFloat(e.day6.toString()),Hrs07:parseFloat(e.day7.toString())}}))},Nt=function(){var e=Object(b.a)(p.a.mark((function e(){var t,a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=11;break}return a=(t=v).fTmpTs[0],n=Tt(S,a),t.fTmpTs=n,t.fTshSum[0].INT_CHANGE=1,t.fTshSum[0].INT_KEY=0,e.next=9,c("1",t);case 9:200===(r=e.sent).code?q()("QTIME","Timesheet has been saved successfully","success").then((function(e){Lt(Xe,!1)})):q()("QTIME",r.data.ExceptionMessage,"error");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),At=function(e,t){for(var a=0,n=["day1","day2","day3","day4","day5","day6","day7"],r=0;r<n.length;r++)a+=""==e[n[r]]?0:parseFloat(e[n[r]]);return parseFloat(a).toFixed(1).toString()},Et=function(e){return e.trim().length>0?e.includes(".")?e:e+".0":"0.0"},Lt=function(){var e=Object(b.a)(p.a.mark((function e(t,n){var r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),r=localStorage.getItem(N)||"",0==ot.trim().length&&ct(r),e.next=5,u(ot||r,t);case 5:200===(i=e.sent).code?Dt(i,n):q()("QTIME",i.data.ExceptionMessage,"error"),s();case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Dt=function(e,t){var a=e.data;if(a.fTmpTs.length>0){var n=a.fTmpTs.filter((function(e){return e.Code01&&e.Code01.length>0}));a.fTmpTs=n;var r=a.fTmpTs.map((function(e,t){return{id:++t,jobCode:e.Code02,l1:e.Code01,l2:e.Code03,l3:e.Code04,l4:e.Code06,l5:e.Code08,classification:e.Classifctn,location:e.Location||"",l3Title:e.L3_Title,l4Title:e.L4_Title,total:Et(e.Total),day1:Et(e.Hrs01),day2:Et(e.Hrs02),day3:Et(e.Hrs03),day4:Et(e.Hrs04),day5:Et(e.Hrs05),day6:Et(e.Hrs06),day7:Et(e.Hrs07),int_change:e.Int_Change||0}}));_(!0),g(a),_(!1),y(r),ye(a.fTshSum[0].STATUS),Ae(a.fTshSum[0].StsTitle),Me(a.fTshSum[0].EMPNOTES),Pt(a.fTshSum[0].STATUS),Mt(a.fTmpTsMisc),se(a.fTmpTsMisc[0].MthToDateHrs);var s={approver:void 0,approver1Comment:a.fTshSum[0].SUPNOTES,approver2Comment:a.fTshSum[0].PMNOTES,employeeComment:a.fTshSum[0].EMPNOTES,reasonCode:a.fTshSum[0].RjctReason,selectedId:""};vt(s)}var i=a.fTmpTsTot.map((function(e,t){return 0==t?{id:t,title:e.Code01,total:Et(e.Total),day1:Et(e.Hrs01),day2:Et(e.Hrs02),day3:Et(e.Hrs03),day4:Et(e.Hrs04),day5:Et(e.Hrs05),day6:Et(e.Hrs06),day7:Et(e.Hrs07)}:5==t?{id:t,title:e.Code01,total:e.Total||"",day1:e.Hrs01||"",day2:e.Hrs02||"",day3:e.Hrs03||"",day4:e.Hrs04||"",day5:e.Hrs05||"",day6:e.Hrs06||"",day7:e.Hrs07||""}:{id:t,title:e.Code01,total:e.Total,day1:e.Hrs01,day2:e.Hrs02,day3:e.Hrs03,day4:e.Hrs04,day5:e.Hrs05,day6:e.Hrs06,day7:e.Hrs07}}));i.length>0&&te(i),0==a.fTmpTs.length&&t&&A(!T)},It=function(e,t,a){var n=function(e,t){return e.filter((function(e){return e.field==t}))}(e,t);1==n.length&&(n[0].headerClassName=a)},Mt=function(e){var t=Y;1==e.length&&(-1==e[0].Holiday01?It(t,"day1","red"):0==e[0].Holiday01&&It(t,"day1","blue"),-1==e[0].Holiday02?It(t,"day2","red"):0==e[0].Holiday02&&It(t,"day2","blue"),-1==e[0].Holiday03?It(t,"day3","red"):0==e[0].Holiday03&&It(t,"day3","blue"),-1==e[0].Holiday04?It(t,"day4","red"):0==e[0].Holiday04&&It(t,"day4","blue"),-1==e[0].Holiday05?It(t,"day5","red"):0==e[0].Holiday05&&It(t,"day5","blue"),-1==e[0].Holiday06?It(t,"day6","red"):0==e[0].Holiday06&&It(t,"day6","blue"),-1==e[0].Holiday07?It(t,"day7","red"):0==e[0].Holiday07&&It(t,"day7","blue")),X(Object(ie.a)(t))},Pt=function(e){switch(e){case 1:case 2:V(!0);break;case 3:case 4:case 5:case 6:default:V(!1)}},Rt=function(e,t){for(var a=0,n=0;n<e.length;n++)a+=""==e[n][t]?0:parseFloat(e[n][t]);return parseFloat(a).toFixed(1).toString()},Ft=r.a.useCallback((function(e,t){var a=e.id,n=e.field,r=e.props,s=!1;r.value&&((s=function(e,t){var a=!1,n="[0-9]{2}:[0-9]{2}";switch(parseInt(e)){case 1:case 2:case 3:case 4:a=RegExp(n,"g").test(t)}return a}(a.toString(),r.value.toString()))?(s=function(e){var t,a;return t=parseInt(e.split(":")[0])<=23,a=parseInt(e.split(":")[1])<=59,t&&a}(r.value.toString()))||q()("QTIME","Please Enter Correct Values","warning"):q()("QTIME","Please Enter Correct Format as HH:MM","warning"),s&&function(e,t,a){if(a&&""!=a){var n=ee.filter((function(e){return e.id==t}));n&&(n[0][e]=a)}}(n,a,r.value),te(Object(ie.a)(ee)))}),[ee]),_t=r.a.useCallback((function(e,t){var a=e.id,n=e.field,r=e.props,s=!1,i=a,o=r.value;if(o)if(function(e){var t=!1;return"string"!==typeof e||Number.isNaN(Number(e))?t=!1:(e=Number(e),t=!0),t}(o.toString()))if((s=Ht(o)&&Bt(i,n,o)&&Wt(i,n,o))||q()("QTIME","Hours cannot exceed 24.0 hours","warning"),y(Object(ie.a)(S)),s&&(function(e,t,a){if(a&&""!=a){var n=S.filter((function(e){return e.id==t}));if(n){n[0].int_change=1,a.toString().includes(".")?n[0][e]=a:n[0][e]=a+".0";var r=At(n[0],e),s=S.filter((function(e){return e.id==t}));s.length>0&&(r.includes(".")?s[0].total=r:s[0].total=r+".0",y(Object(ie.a)(S)))}}}(n,i,o),function(e,t,a){if(a&&""!=a){var n=S.filter((function(e){return e.id==t}));n&&(n[0][e]=parseFloat(parseFloat(a).toFixed(1).toString()),Ke(e))}}(n,i,o),function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"total",t=["day1","day2","day3","day4","day5","day6","day7"],a=0,n=0;n<t.length;n++)ee.length>0&&(a+=""==ee[0][t[n]]?0:parseFloat(ee[0][t[n]]));ee.length>0&&(a.toString().includes(".")?ee[0][e]=a:ee[0][e]=a+".0",te(Object(ie.a)(ee)))}("total")),s){var c=S.filter((function(e){return e.id==i}));c.length>0&&(o.toString().includes(".")?c[0][n]=o:c[0][n]=o+".0"),y(Object(ie.a)(S))}else y(Object(ie.a)(S));else y(Object(ie.a)(S)),q()("QTIME","Invalid input","warning")}),[S,fe]),Ht=function(e){var t=!1;return isNaN(e)||e<=24&&(t=!0),t},Wt=function(e,t,a){var n=!1;if(S.filter((function(t){return t.id==e}))){var r=Rt(S,t);parseFloat(r)+parseFloat(a)<=24&&(n=!0)}return n},Bt=function(e,t,a){var n=!1,r=S.filter((function(t){return t.id==e}));if(r){var s=At(r[0],t);parseFloat(s)+parseFloat(a)<=168&&(n=!0)}return n};return Object(L.jsxs)("div",{children:[Object(L.jsx)(Ze,{open:T,onClose:xt,onOkPressed:function(e){var t=[];if(e.id>0)t=S.map((function(t){return t.id===e.id?Object(o.a)(Object(o.a)({},t),e.codeEntry):t}));else{var a=S.length+1;e.id=a;var n=Object(o.a)(Object(o.a)(Object(o.a)({id:a},e.codeEntry),{day1:"0.0",day2:"0.0",day3:"0.0",day4:"0.0",day5:"0.0",day6:"0.0",day7:"0.0"}),{},{total:0,int_change:0});t=[].concat(Object(ie.a)(S),[n])}y(t),he({id:0,codeEntry:{l1:"",jobCode:"",l2:"",l3:"",l4:"",l5:"",classification:"",location:"",l3Title:"",l4Title:""},int_change:0})},setLoader:function(e){e?a():s()},code:be,employeeId:ot}),Object(L.jsx)(Te,{open:I,onClose:function(){M(!I)},onOkPressed:function(e){if(M(!I),e){var t=v;if(t){t.fTshSum[0].EMPNOTES=e.employeeComment,Me(t.fTshSum[0].EMPNOTES);var a={approver:e.approver,approver1Comment:e.approver1Comment,approver2Comment:e.approver2Comment,employeeComment:t.fTshSum[0].EMPNOTES,reasonCode:e.reasonCode,selectedId:e.selectedId};vt(a)}_(!0),g(t),_(!1)}},employeeComment:Ie,rejectedCodes:[],isFrom:"TimeSheet",isApprover1:!1,isApprover2:!1,selectedObject:ft}),Object(L.jsx)(rt,{open:z,onClose:function(){J(!z)},onOkPressed:wt,todayDate:He.length>0?He[0].key:0,data:He}),Object(L.jsx)(et,{onWeekObjectChange:Ot,handleEmployeeChange:function(e){var t=e.target.value.split("-")[0];ct(t),ht("Display"),y([]),te([]),ye(-100)}}),Object(L.jsx)(at,{onNewBtnClick:xt,onSaveClick:function(){Nt()},onDeleteClick:yt,onEditClick:function(){if(0==le.length)q()("QTIME","There are no record to edit.","warning");else if(le.length>1)q()("QTIME","Please select a record to edit.","warning");else if(1==le.length){var e=S.filter((function(e){return e.id==le[0]}))[0],t={id:e.id,codeEntry:{l1:e.l1,jobCode:e.jobCode,l2:e.l2,l3:e.l3,l4:e.l4,l5:e.l5,classification:e.classification,location:e.location,l3Title:e.l3Title,l4Title:e.l4Title},int_change:e.int_change};he(t),A(!0)}},onSubmitClicked:Ct,submittedStatus:Ne,submitBtnCaption:Se,onCommentClick:function(){M(!I)},onCopyClick:function(){J(!z)},newBtnCaption:bt,onCloseClick:e.onCloseClicked}),Object(L.jsx)("div",{style:{paddingBottom:5},children:Object(L.jsx)(Pe,{apiRef:h,columns:Y,rowData:S,checkboxSelection:!0,editRowModel:fe,editCellChangeCommitedFn:_t,rowSelectFn:void 0,selectionModelChangeFn:function(e){de(e.selectionModel)},isDataTableLoading:F,isDataTableEditable:B,isDataTableEditablefn:void 0})}),Object(L.jsx)("div",{style:{paddingTop:5},children:Object(L.jsx)(Pe,{apiRef:j,columns:st,rowData:ee,checkboxSelection:!1,editCellChangeCommitedFn:Ft,editRowModel:Oe,rowSelectFn:void 0,selectionModelChangeFn:void 0,isDataTableLoading:F,isDataTableEditable:B,isDataTableEditablefn:function(e){return!!B&&0!=e.id}})}),Object(L.jsx)("div",{className:"timesheetFooter",children:re})]})},bt=(a(637),a(638),function(e){Object(re.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(ae.a)(this,a),(n=t.call(this,e)).state={unSubmittedTimeSheets:e.unSubmittedTimeSheets,timeSheetsAwaitingApproval:e.timeSheetsAwaitingApproval,timeSheetsApprovedLvl1:e.timeSheetsApprovedLvl1,timeSheetsApprovedLvl2:e.timeSheetsApprovedLvl2,rejectedTimeSheetsResubmit:e.rejectedTimeSheetsResubmit,timeSheetWaitingLvl1Approve:e.timeSheetWaitingLvl1Approve,timeSheetWaitingLvl2Approve:e.timeSheetWaitingLvl2Approve,reSubmitTimesheetAwaitedApproval:n.props.reSubmitTimesheetAwaitedApproval,emailAddress:"test@gmail.com",companyImageLogo:""},n}return Object(ne.a)(a,[{key:"componentDidMount",value:function(){this.setState({unSubmittedTimeSheets:this.props.unSubmittedTimeSheets,timeSheetsAwaitingApproval:this.props.timeSheetsAwaitingApproval,timeSheetsApprovedLvl1:this.props.timeSheetsApprovedLvl1,timeSheetsApprovedLvl2:this.props.timeSheetsApprovedLvl2,rejectedTimeSheetsResubmit:this.props.rejectedTimeSheetsResubmit,timeSheetWaitingLvl1Approve:this.props.timeSheetWaitingLvl1Approve,timeSheetWaitingLvl2Approve:this.props.timeSheetWaitingLvl2Approve,reSubmitTimesheetAwaitedApproval:this.props.reSubmitTimesheetAwaitedApproval})}},{key:"render",value:function(){return Object(L.jsxs)("div",{className:"dashboardPanel",children:[Object(L.jsxs)("div",{className:"leftPanel",children:[this.props.showStatus&&Object(L.jsxs)("div",{className:"timeSheetStats",children:[Object(L.jsxs)("div",{className:"header",children:[Object(L.jsx)("h6",{children:"Personal Timesheet Entry Statistics"}),Object(L.jsx)("hr",{className:"orangeLine"})]}),Object(L.jsx)(ee.a,{responsive:"md",striped:!0,bordered:!0,hover:!0,children:Object(L.jsxs)("tbody",{children:[Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:this.props.unSubmittedTimeSheets}),Object(L.jsx)("td",{className:"alignLeft",children:"Un-submitted Timesheets"})]}),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:this.props.timeSheetsAwaitingApproval}),Object(L.jsx)("td",{className:"alignLeft",children:"Timesheets awaiting approval"})]}),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:this.props.timeSheetsApprovedLvl1}),Object(L.jsx)("td",{className:"alignLeft",children:"Timesheets Approved at Level 1"})]}),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:this.props.timeSheetsApprovedLvl2}),Object(L.jsx)("td",{className:"alignLeft",children:"Timesheets Approved at Level 2"})]}),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:this.props.rejectedTimeSheetsResubmit}),Object(L.jsx)("td",{className:"alignLeft",children:"Rejected Timesheets to be re-submitted"})]})]})})]}),this.props.showStatus&&Object(L.jsxs)("div",{className:"approveSheetStats",children:[Object(L.jsxs)("div",{className:"header",children:[Object(L.jsx)("h6",{children:"Timesheet Approval Statistics"}),Object(L.jsx)("hr",{className:"orangeLine"})]}),Object(L.jsx)(ee.a,{responsive:"md",striped:!0,bordered:!0,hover:!0,children:Object(L.jsxs)("tbody",{children:[Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:this.props.timeSheetWaitingLvl1Approve}),Object(L.jsx)("td",{className:"alignLeft",children:"Timesheets awaiting Level 1 Approval"})]}),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:this.props.timeSheetWaitingLvl2Approve}),Object(L.jsx)("td",{className:"alignLeft",children:"Timesheets awaiting Level 2 Approval"})]}),Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:this.props.reSubmitTimesheetAwaitedApproval}),Object(L.jsx)("td",{className:"alignLeft",children:"Re-submitted Timesheets awaiting approval"})]})]})})]}),this.props.showStatus&&Object(L.jsx)("div",{className:"refreshbtnContainer",children:Object(L.jsx)(W.a,{variant:"outlined",className:"margin",onClick:this.props.refreshStats,children:"Refresh Statistics"})})]}),Object(L.jsxs)("div",{className:"rightPanel",children:[Object(L.jsx)("div",{className:"companyImagePanel",children:Object(L.jsxs)("div",{className:"header",children:[Object(L.jsx)("h6",{children:"Company Image"}),Object(L.jsx)("hr",{className:"orangeLine"}),Object(L.jsx)("div",{style:{height:"250px",width:"300px"},children:Object(L.jsx)("div",{className:"placeholder",children:Object(L.jsx)("div",{className:"myimage",style:{backgroundImage:"url(".concat(this.state.companyImageLogo,")")},children:Object(L.jsx)("img",{})})})})]})}),Object(L.jsxs)("div",{className:"companySummeryPanel",children:[Object(L.jsxs)("div",{className:"header",children:[Object(L.jsx)("h6",{children:"Company Summery"}),Object(L.jsx)("hr",{className:"orangeLine"})]}),Object(L.jsxs)("div",{className:"summery",children:[Object(L.jsx)("p",{children:"Welcome to Chiyoda's Qtime MH Gathering System, Please select your action from the menu above. For any question, comments, or error report, please contact the following =:"}),Object(L.jsxs)("div",{className:"summeryDetails",children:[Object(L.jsx)("div",{className:"heading",children:"Qtime Administrator"}),Object(L.jsx)("div",{className:"heading",children:"Project Control Division"}),Object(L.jsxs)("div",{className:"heading",style:{display:"flex"},children:["Email :"," ",Object(L.jsx)("div",{className:"hyperlink",children:this.state.emailAddress})]})]})]})]})]})]})}}]),a}(n.Component)),ht=a(700),jt=(a(639),_e(function(e){Object(re.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(ae.a)(this,a),(n=t.call(this,e)).setInitialValue=function(){var e=!0,t=localStorage.getItem(w)||"0";t&&1==parseInt(t)&&(e=!1),n.setState({selectedEmployee:n.props.selectedEmployee,isCurrentPasswordDisable:e})},n.retrieveEmployee=Object(b.a)(p.a.mark((function e(){var t,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.useFetch.getEmployeeList("Id,SurName,OthrNames,Int_key");case 2:200===(t=e.sent).code?(a=t.data,r=a.map((function(e){return{key:e.Id,value:"".concat(e.Id," - ").concat(e.SurName," ").concat(e.OthrNames)}})),n.setState({employeeList:r,actualEmpList:a})):q()("QTIME",t.data.ExceptionMessage,"error");case 4:case"end":return e.stop()}}),e)}))),n.onCurrentPasswordChange=function(e){n.setState({currentPassword:e.target.value})},n.onNewPasswordChange=function(e){n.setState({newPassword:e.target.value})},n.onNewConfirmationPasswordChange=function(e){n.setState({confirmNewPassword:e.target.value})},n.handleClickOk=function(){var e=n.state.selectedEmployee;e.includes("-")&&(e=e.split("-")[0]);var t=n.state.actualEmpList;if(e.length>0){var a=t.findIndex((function(t){return t.Id==e}));a>-1&&n.changePassword(t[a].Int_key)}},n.setEmployee=function(e){var t=e.target.value;n.setState({selectedEmployee:t})},n.changePassword=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,r,s,i,o,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state.newPassword,r=n.state.currentPassword,s=n.state.confirmNewPassword,i=localStorage.getItem(w)||"0",a.length>0||q()("Change password","Please enter new password","warning"),r.length>0||1!=parseInt(i)||q()("Change password","Please enter current password","warning"),s.length>0||q()("Change password","Please enter confirmation new password","warning"),!(a.length>0&&(r.length>0||1!=parseInt(i))&&s.length>0)){e.next=13;break}return e.next=11,n.props.useFetch.changePassword(n.state.newPassword,n.state.confirmNewPassword,n.state.currentPassword,t);case 11:200===(o=e.sent).code?(c=o.data)&&(c.includes("ERROR -")?q()("Change password",c.split("ERROR -")[1],"error"):c.includes("SUCCESS")&&q()("Change password","Successfully changed","info")):q()("QTIME",o.data.ExceptionMessage,"error");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={currentPassword:"",newPassword:"",confirmNewPassword:"",selectedEmployeeIntKey:"",employeeList:[],selectedEmployee:"",actualEmpList:[],isCurrentPasswordDisable:!1},n}return Object(ne.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.retrieveEmployee();case 2:this.setInitialValue();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(L.jsx)("div",{children:Object(L.jsxs)(F.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,fullWidth:!0,"aria-labelledby":"form-dialog-title",open:this.props.open,onClose:this.props.onClose,children:[Object(L.jsx)(je.a,{id:"form-dialog-title",className:"headerTitle",children:"Change password"}),Object(L.jsxs)("div",{className:"form-group row",children:[Object(L.jsx)("label",{htmlFor:"staticEmail",className:"col-sm-4 col-form-label lbl",children:"Employee:"}),Object(L.jsx)("div",{className:"col-sm-7 cpEmployee",children:Object(L.jsx)(Le,{elements:this.state.employeeList,onChangeEvt:this.setEmployee,selectedVal:this.state.selectedEmployee})}),Object(L.jsx)("label",{htmlFor:"currentPassword",className:"col-sm-4 col-form-label lbl",children:"Enter current password:"}),Object(L.jsx)("div",{className:"col-sm-7 ",children:Object(L.jsx)("input",{type:"password",className:"form-control cpContainer",id:"currentPassword",onChange:this.onCurrentPasswordChange,disabled:this.state.isCurrentPasswordDisable})}),Object(L.jsx)("label",{htmlFor:"newPassword",className:"col-sm-4 col-form-label lbl",children:"Enter new password:"}),Object(L.jsx)("div",{className:"col-sm-7 ",children:Object(L.jsx)("input",{type:"password",className:"form-control cpContainer",id:"newPassword",onChange:this.onNewPasswordChange})}),Object(L.jsx)("label",{htmlFor:"confirmNewPassword",className:"col-sm-4 col-form-label lbl",children:"Confirm new password:"}),Object(L.jsx)("div",{className:"col-sm-7 ",children:Object(L.jsx)("input",{type:"password",className:"form-control cpContainer",id:"confirmNewPassword",onChange:this.onNewConfirmationPasswordChange})})]}),Object(L.jsxs)(be.a,{children:[Object(L.jsx)(ht.a,{onClick:this.handleClickOk,color:"primary",children:"OK"}),Object(L.jsx)(ht.a,{onClick:this.props.onClose,color:"secondary",children:"Cancel"})]})]})})}}]),a}(n.Component))),mt=(a(640),function(e){Object(re.a)(a,e);var t=Object(se.a)(a);function a(e){return Object(ae.a)(this,a),t.call(this,e)}return Object(ne.a)(a,[{key:"render",value:function(){return Object(L.jsx)("div",{children:Object(L.jsxs)(F.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,fullWidth:!0,"aria-labelledby":"form-dialog-title",open:this.props.open,onClose:this.props.onClose,children:[Object(L.jsx)("div",{className:"form-group row ",children:Object(L.jsxs)("div",{className:"abountContainer",children:[Object(L.jsx)("h3",{children:"QTIME:"}),Object(L.jsx)("h6",{children:"Version : 1.00.00"}),Object(L.jsx)("div",{className:"summeryContainer",children:Object(L.jsxs)("div",{className:"summeryContainer2",children:[Object(L.jsx)("label",{children:"QDMS Solutions Pty Ltd.,"}),Object(L.jsx)("br",{}),Object(L.jsx)("label",{children:"Suite 212, 283 Collins St."}),Object(L.jsx)("br",{}),Object(L.jsx)("label",{children:"Melbourne VIC 3000"}),Object(L.jsx)("br",{}),Object(L.jsx)("label",{children:"Australia"}),Object(L.jsx)("br",{}),Object(L.jsx)("br",{}),Object(L.jsx)("label",{children:"Ph: +61 (3) 9015 4200"}),Object(L.jsx)("br",{}),Object(L.jsx)("label",{children:"Info: +61 (3) 6134 4686"}),Object(L.jsx)("br",{}),Object(L.jsx)("span",{className:"bold",children:"Email"}),Object(L.jsx)("br",{}),Object(L.jsxs)("div",{className:"support",children:["Support:",Object(L.jsx)("label",{className:"hyperlink",children:"support@gdmssolutions.com"})]})]})}),Object(L.jsxs)("label",{children:["\xa9 2001 - 2021",Object(L.jsx)("span",{className:"hyperlink",children:"QDMS Solutions Pty Ltd."})]}),Object(L.jsx)("br",{}),Object(L.jsx)("label",{children:"All right reserved."})]})}),Object(L.jsx)(be.a,{children:Object(L.jsx)(ht.a,{onClick:this.props.onClose,color:"secondary",children:"OK"})})]})})}}]),a}(n.Component)),ft=function(){var e=localStorage.getItem(y);return e?JSON.parse(e).userId:null};!function(e){e[e.unSubmittedTimeSheets=1]="unSubmittedTimeSheets",e[e.timeSheetsAwaitingApproval=4]="timeSheetsAwaitingApproval",e[e.timeSheetsApprovedLvl1=5]="timeSheetsApprovedLvl1",e[e.timeSheetsApprovedLvl2=6]="timeSheetsApprovedLvl2",e[e.rejectedTimeSheetsResubmit=2]="rejectedTimeSheetsResubmit"}(dt||(dt={}));var vt=_e(function(e){Object(re.a)(a,e);var t=Object(se.a)(a);function a(e){var n;return Object(ae.a)(this,a),(n=t.call(this,e)).retrieveLoggedInUserDetails=Object(b.a)(p.a.mark((function e(){var t,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=ft())&&t.length>0)){e.next=6;break}return e.next=4,n.props.useFetch.getLoggedInUserDetails(t);case 4:200===(a=e.sent).code&&(r=a.data).length>0&&(localStorage.setItem("Email",r[0].email),localStorage.setItem(w,r[0].USERLEVEL),localStorage.setItem(k,r[0].SURNAME),localStorage.setItem(T,r[0].OTHRNAMES),localStorage.setItem("INT_KEY",r[0].INT_KEY),localStorage.setItem(N,r[0].ID),localStorage.setItem("ACTIVE",r[0].ACTIVE),localStorage.setItem(A,r[0].DispName));case 6:case"end":return e.stop()}}),e)}))),n.refreshStats=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.retrieveDashBoardDetails();case 2:case"end":return e.stop()}}),e)}))),n.retrieveDashBoardDetails=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.useFetch.getDashboardStats();case 2:200===(t=e.sent).code&&((a=t.data).fTmpTSEntrySts?n.setState({showStats:!0,unSubmittedTimeSheets:a.fTmpTSEntrySts[0].CountedRows,timeSheetsAwaitingApproval:a.fTmpTSEntrySts[1].CountedRows,timeSheetsApprovedLvl1:a.fTmpTSEntrySts[2].CountedRows,timeSheetsApprovedLvl2:a.fTmpTSEntrySts[3].CountedRows,rejectedTimeSheetsResubmit:a.fTmpTSEntrySts[4].CountedRows,timeSheetWaitingLvl1Approve:a.fTmpTSApprovalSts[0].CountedRows,timeSheetWaitingLvl2Approve:a.fTmpTSApprovalSts[1].CountedRows,reSubmitTimesheetAwaitedApproval:a.fTmpTSApprovalSts[2].CountedRows}):n.setState({showStats:!1}));case 4:case"end":return e.stop()}}),e)}))),n.switchToTimeSheet=function(){n.state.enterTimeSheet||n.setState({enterTimeSheet:!n.state.enterTimeSheet,approveTimeSheet:!1,title:"Edit/Enter Timesheet"})},n.switchToApprovalTimeSheet=function(){n.state.approveTimeSheet||n.setState({enterTimeSheet:!1,approveTimeSheet:!n.state.approveTimeSheet,title:C})},n.openChangePassword=function(){n.setState({changePassword:!n.state.changePassword})},n.openAbout=function(){n.setState({showAboutScreen:!n.state.showAboutScreen})},n.switchToDashboard=function(){n.setState({enterTimeSheet:!1,approveTimeSheet:!1,title:S})},n.state={title:S,approveTimeSheet:!1,enterTimeSheet:!1,showStats:!1,changePassword:!1,showAboutScreen:!1,isLoading:!0,unSubmittedTimeSheets:0,timeSheetsAwaitingApproval:0,timeSheetsApprovedLvl1:0,timeSheetsApprovedLvl2:0,rejectedTimeSheetsResubmit:0,timeSheetWaitingLvl1Approve:0,timeSheetWaitingLvl2Approve:0,reSubmitTimesheetAwaitedApproval:0},n}return Object(ne.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.retrieveLoggedInUserDetails();case 2:return e.next=4,this.retrieveDashBoardDetails();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(L.jsxs)("div",{children:[Object(L.jsx)(ze,{title:this.state.title,enterTimeSheet:this.switchToTimeSheet,approvalTimeSheet:this.switchToApprovalTimeSheet,changePassword:this.openChangePassword,openAboutScreen:this.openAbout}),!this.state.enterTimeSheet&&!this.state.approveTimeSheet&&Object(L.jsx)(bt,{refreshStats:this.refreshStats,showStatus:this.state.showStats,unSubmittedTimeSheets:this.state.unSubmittedTimeSheets,timeSheetsAwaitingApproval:this.state.timeSheetsAwaitingApproval,timeSheetsApprovedLvl1:this.state.timeSheetsApprovedLvl1,timeSheetsApprovedLvl2:this.state.timeSheetsApprovedLvl2,rejectedTimeSheetsResubmit:this.state.rejectedTimeSheetsResubmit,timeSheetWaitingLvl1Approve:this.state.timeSheetWaitingLvl1Approve,timeSheetWaitingLvl2Approve:this.state.timeSheetWaitingLvl2Approve,reSubmitTimesheetAwaitedApproval:this.state.reSubmitTimesheetAwaitedApproval}),this.state.showAboutScreen&&Object(L.jsx)(mt,{open:this.state.showAboutScreen,onClose:this.openAbout}),this.state.enterTimeSheet&&Object(L.jsx)(pt,{onCloseClicked:this.switchToDashboard}),this.state.approveTimeSheet&&Object(L.jsx)(Be,{onCloseClicked:this.switchToDashboard}),this.state.changePassword&&Object(L.jsx)(jt,{open:this.state.changePassword,onClose:this.openChangePassword,selectedEmployee:localStorage.getItem(N)+"-"+localStorage.getItem(N)+" - "+localStorage.getItem(k)+" "+localStorage.getItem(T)||""})]})}}]),a}(n.Component)),gt=a(648),Ot=a(653),xt=Object(P.a)((function(e){return Object(R.a)({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})}));function Ct(){var e=xt();return Object(L.jsx)("div",{children:Object(L.jsx)(gt.a,{className:e.backdrop,open:!0,children:Object(L.jsx)(Ot.a,{color:"inherit"})})})}function St(){var e=lt().isLoading;return Object(L.jsx)(l.a,{children:Object(L.jsxs)(d.d,{children:["SignalCellularNull",Object(L.jsxs)(yt,{path:"/timesheet",children:[Object(L.jsx)(vt,{}),e?Object(L.jsx)(Ct,{}):null]}),Object(L.jsx)(wt,{exact:!0,path:"/",children:Object(L.jsx)(te,{})}),Object(L.jsx)(d.b,{path:"*",children:Object(L.jsx)(kt,{})})]})})}function yt(e){var t=e.children,a=Object(c.a)(e,["children"]),n=M();return Object(L.jsx)(d.b,Object(o.a)(Object(o.a)({},a),{},{render:function(e){var a=e.location;return n.token?t:Object(L.jsx)(d.a,{to:{pathname:"/",state:{from:a}}})}}))}function wt(e){var t=e.children,a=Object(c.a)(e,["children"]),n=M();return Object(L.jsx)(d.b,Object(o.a)(Object(o.a)({},a),{},{render:function(e){e.location;return n.token?Object(L.jsx)(d.a,{to:{pathname:"/timesheet"}}):t}}))}function kt(){var e=Object(d.h)();return Object(L.jsx)("div",{children:Object(L.jsxs)("h3",{children:["No match for ",Object(L.jsx)("code",{children:e.pathname})]})})}var Tt=function(){return Object(L.jsx)("div",{className:"App",children:Object(L.jsx)(I,{children:Object(L.jsx)(ct,{children:Object(L.jsx)(St,{})})})})},Nt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,703)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)}))};i.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(Tt,{})}),document.getElementById("root")),Nt()}},[[641,1,2]]]);
//# sourceMappingURL=main.8edb9d47.chunk.js.map