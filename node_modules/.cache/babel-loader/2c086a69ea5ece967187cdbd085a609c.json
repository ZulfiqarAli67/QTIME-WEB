{"ast":null,"code":"import _objectSpread from\"E:/QTIME-WEB-FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"E:/QTIME-WEB-FE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React from\"react\";import{BrowserRouter as Router,Switch,Route,Redirect,useLocation}from\"react-router-dom\";import{useAuth}from\"./contexts/use-auth\";import LoginPage from\"./components/login\";import Dashboard from'./components/Dashboard/dashboard';import SimpleBackdrop from\"./components/common/Backdrop\";import{useLoader}from\"./contexts/use-loader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Routes(){var _useLoader=useLoader(),isLoading=_useLoader.isLoading;return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Switch,{children:[\"SignalCellularNull\",/*#__PURE__*/_jsxs(PrivateRoute,{path:\"/timesheet\",children:[/*#__PURE__*/_jsx(Dashboard,{}),isLoading?/*#__PURE__*/_jsx(SimpleBackdrop,{}):null]}),/*#__PURE__*/_jsx(PublicRoute,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",children:/*#__PURE__*/_jsx(NoMatch,{})})]})});}function PrivateRoute(props){var children=props.children,rest=_objectWithoutProperties(props,[\"children\"]);var auth=useAuth();return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(_ref){var location=_ref.location;return auth.token?children:/*#__PURE__*/_jsx(Redirect,{to:{pathname:\"/\",state:{from:location}}});}}));}function PublicRoute(props){var children=props.children,rest=_objectWithoutProperties(props,[\"children\"]);var auth=useAuth();return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(_ref2){var location=_ref2.location;return auth.token?/*#__PURE__*/_jsx(Redirect,{to:{pathname:\"/timesheet\"}}):children;}}));}function NoMatch(){var location=useLocation();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h3\",{children:[\"No match for \",/*#__PURE__*/_jsx(\"code\",{children:location.pathname})]})});}","map":{"version":3,"sources":["E:/QTIME-WEB-FE/src/routes.tsx"],"names":["React","BrowserRouter","Router","Switch","Route","Redirect","useLocation","useAuth","LoginPage","Dashboard","SimpleBackdrop","useLoader","Routes","isLoading","PrivateRoute","props","children","rest","auth","location","token","pathname","state","from","PublicRoute","NoMatch"],"mappings":"+RAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACEC,aAAa,GAAIC,CAAAA,MADnB,CAEEC,MAFF,CAGEC,KAHF,CAKEC,QALF,CAMEC,WANF,KAOO,kBAPP,CAQA,OAASC,OAAT,KAAwB,qBAAxB,CACA,MAAOC,CAAAA,SAAP,KAAuB,oBAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,kCAAtB,CACA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CACA,OAASC,SAAT,KAA0B,uBAA1B,C,wFAEA,MAAO,SAASC,CAAAA,MAAT,EAAkB,gBAEHD,SAAS,EAFN,CAEhBE,SAFgB,YAEhBA,SAFgB,CAGvB,mBACE,KAAC,MAAD,wBACI,MAAC,MAAD,8CACE,MAAC,YAAD,EAAc,IAAI,CAAC,YAAnB,wBACI,KAAC,SAAD,IADJ,CAEKA,SAAS,cAAG,KAAC,cAAD,IAAH,CAAuB,IAFrC,GADF,cAKI,KAAC,WAAD,EAAa,KAAK,CAAE,IAApB,CAA0B,IAAI,CAAC,GAA/B,uBACI,KAAC,SAAD,IADJ,EALJ,cAQE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,uBACE,KAAC,OAAD,IADF,EARF,GADJ,EADF,CAgBD,CAED,QAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAAmC,IACzBC,CAAAA,QADyB,CACHD,KADG,CACzBC,QADyB,CACZC,IADY,0BACHF,KADG,eAEjC,GAAIG,CAAAA,IAAI,CAAGX,OAAO,EAAlB,CACA,mBACE,KAAC,KAAD,gCACMU,IADN,MAEE,MAAM,CAAE,yBAAGE,CAAAA,QAAH,MAAGA,QAAH,OACND,CAAAA,IAAI,CAACE,KAAL,CACEJ,QADF,cAGE,KAAC,QAAD,EACE,EAAE,CAAE,CACFK,QAAQ,CAAE,GADR,CAEFC,KAAK,CAAE,CAAEC,IAAI,CAAEJ,QAAR,CAFL,CADN,EAJI,EAFV,GADF,CAiBD,CAED,QAASK,CAAAA,WAAT,CAAqBT,KAArB,CAAkC,IACxBC,CAAAA,QADwB,CACFD,KADE,CACxBC,QADwB,CACXC,IADW,0BACFF,KADE,eAEhC,GAAIG,CAAAA,IAAI,CAAGX,OAAO,EAAlB,CACA,mBACE,KAAC,KAAD,gCACMU,IADN,MAEE,MAAM,CAAE,0BAAGE,CAAAA,QAAH,OAAGA,QAAH,OACND,CAAAA,IAAI,CAACE,KAAL,cACE,KAAC,QAAD,EACE,EAAE,CAAE,CACFC,QAAQ,CAAE,YADR,CADN,EADF,CAOEL,QARI,EAFV,GADF,CAgBD,CAED,QAASS,CAAAA,OAAT,EAAmB,CACjB,GAAIN,CAAAA,QAAQ,CAAGb,WAAW,EAA1B,CAEA,mBACE,kCACE,mDACe,sBAAOa,QAAQ,CAACE,QAAhB,EADf,GADF,EADF,CAOD","sourcesContent":["import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  Redirect,\r\n  useLocation\r\n} from \"react-router-dom\";\r\nimport { useAuth } from \"./contexts/use-auth\";\r\nimport LoginPage  from \"./components/login\";\r\nimport Dashboard from './components/Dashboard/dashboard';\r\nimport SimpleBackdrop from \"./components/common/Backdrop\";\r\nimport { useLoader } from \"./contexts/use-loader\";\r\n\r\nexport function Routes() {\r\n\r\n  const {isLoading} = useLoader();\r\n  return (\r\n    <Router>      \r\n        <Switch>SignalCellularNull\r\n          <PrivateRoute path=\"/timesheet\">\r\n              <Dashboard/>\r\n              {isLoading ? <SimpleBackdrop/> : null}\r\n            </PrivateRoute>\r\n            <PublicRoute exact={true} path=\"/\">\r\n                <LoginPage />\r\n            </PublicRoute>\r\n          <Route path=\"*\">\r\n            <NoMatch />\r\n          </Route>\r\n        </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nfunction PrivateRoute(props : any) {\r\n  const { children, ...rest } = props;\r\n  let auth = useAuth();\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        auth.token ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/\",\r\n              state: { from: location }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nfunction PublicRoute(props : any) {\r\n  const { children, ...rest } = props;\r\n  let auth = useAuth();\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        auth.token ? (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/timesheet\",\r\n            }}\r\n          />\r\n        ) : (\r\n          children\r\n        ) \r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nfunction NoMatch() {\r\n  let location = useLocation();\r\n\r\n  return (\r\n    <div>\r\n      <h3>\r\n        No match for <code>{location.pathname}</code>\r\n      </h3>\r\n    </div>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}